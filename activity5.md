หน่วยที่ 5
การตรวจสอบแก้ไขความผิดพลาด
และควบคุมการไหลของข้อมูล
อาจารย์ภิรมย์ คงเลิศ
ชื่อ   	 	 อาจารย์ภิรมย์ 	คงเลิศ
วุฒิ  	 	 วศ.ม. 	(วิศวกรรมคอมพิวเตอร์)
 	 	 มหาวิทยาลัยเทคโนโลยีพระจอมเกล้าธนบุรี
ตาแหน่ง  	 อาจารย์ประจ าสาขาวิชาวิทยาศาสตร์และเทคโนโลยี
 	 	 มหาวิทยาลัยสุโขทัยธรรมาธิราช
หน่วยที่ปรับปรุง  	 หน่วยที่	5
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-2
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
แผนการสอนประจ าหน่วย
ชุดวิชา 	 การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
หน่วยที่ 5 	 การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ตอนที่
5.1		 การตรวจสอบแก้ไขความผิดพลาด
5.2
		
การควบคุมการไหลของข้อมูล
แนวคิด
1.			ส ัญญาณรบกวนเป็นสัญญาณที่ไม่พึงประสงค์ท า ให้ข้อมูลผิดเพื้ยนไม่ถูกต้องและเกิดข้อผิดพลาด
ได้	ส
่งผลให้สถานีรับข้อมูลได้ข้อมูลที่ไม่ถูกต้อง
	เ
พราะฉะนั้นการสื่อสารข้อมูลจ
าเ
ป็นต้องมี
กระบวนการในการตรวจสอบความผิดพลาด
	
โดยสถานีส่งข้อมูลมีวิธีการก
า
หนดความถูกต้อง
ของข้อมูลโดยการเพิ่มบิตตรวจสอบต่อท้ายข้อมูลจริงก่อนส่งไปในช่องสื่อสาร
	และเม
ื่อสถานี
รับได้รับข้อมูลก็ต้องมีการตรวจสอบความถูกต้องของข้อมูล
	
หากพบความผิดพลาดของข้อมูล
ในระหว่างการรับส่งข้อมูล
	ระบบการส
ื่อสารข้อมูลต้องมีกระบวนการแก้ไขความผิดพลาดที่เกิดขึ้น
2.		การควบคุมการไหลของข้อมูลเป็นวิธีการที่ใ
ช้ป้องกันและควบคุมไม่ให้สถานีส่งข้อมูล
	ท
า
การ
ส่งข้อมูลด้วยอัตราที่สูงเกินกว่าที่สถานีรับข้อมูลจะสามารถรองรับได้ 	อ
ันเนื่องมาจากความแตกต่าง
ในด้านประสิทธิภาพของอุปกรณ์ทั้งสองฝ่าย
	นอกจากน
ี้ยังต้องมีการควบคุมความผิดพลาด 	
โดยตรวจสอบเฟรมข้อม
ูลที่ได้รับจากสถานีส่งข้อมูลเพื่อท
า
การควบคุมความผิดพลาดที่อาจ
เกิดขึ้น
	ซ
ึ่งสามารถท
า
ได้
	3
	ว
ิธี
	ได้แก่
	1)
	ให้สถาน
ีส่งข้อมูลท
า
การส่งข้อมูลที่ไม่สมบูรณ์มา
ใหม่
	2)
	สถานีรับข้อมูลท
า
การแก้ไขความผิดพลาดเอง
	และ
	3)
	สถานีรับข้อมูลไม่ด
า
เนินการ
ใดๆ
	
วัตถุประสงค์
เมื่อศึกษาหน่วยที่ 	5 	จบแล้ว 	นักศึกษาสามารถ
1.
		
อธิบายเทคนิคการตรวจสอบความผิดพลาดได้
2.
		
อธิบายเทคนิคการแก้ไขความผิดพลาดได้
3.
		
อธิบายวิธีการควบคุมการไหลของข้อมูลได้
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-3
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
กิจกรรมระหว่างเรียน
1.	 ทาแบบประเมินผลตนเองก่อนเรียนหน่วยที่ 	5
2.	
ศึกษาเอกสารการสอนตอนที่
	5.1-5.2
3.	
ปฏิบัติกิจกรรมตามที่ได้รับมอบหมายในเอกสารการสอนแต่ละเรื่อง
4.	 ศึกษาสื่ออิเล็กทรอนิกส์ประจ
า
ชุดวิชา
5.	 ชมรายการสอนเสริมประจ
า
ชุด
	(ถ้ามี)
6.	
ท
า
แบบประเมินผลตนเองหลังเรียนหน่วยที่
	5
7.	
ท
า
กิจกรรมฝึกปฏิบัติเสริมทักษะด้วยตนเอง
8.		เ
ข้ารับการฝึกปฏิบัติเสริมทักษะในวัน
	เ
วลา
	แ
ละสถานที่ที่มหาวิทยาลัยก
าห
นด	ซ
ึ่งจะแจ้งให้
ทราบก่อนถึงก
า
หนดการฝึกปฏิบัติเสริมทักษะอย่างน้อย
	1
	เดือน
สื่อการสอน
1.	 เอกสารการสอน
2.	 แบบฝึกปฏิบัติ
	(แบบประเมินผลตนเองก่อนเ
รียนและหลังเรียน)
3.	 สื่ออิเล็กทรอนิกส์ประจ
า
ชุดวิชา
4.
		
กิจกรรมประจ
า
ชุดวิชา
	(ถ้ามี)
5.
		
กิจกรรมฝึกปฏิบัติเสริมทักษะด้วยตนเอง
6.
		
กิจกรรมฝึกปฏิบัติเสริมทักษะภาคสนาม
การประเมินผล
1.		 ประเมินผลจากแบบประเมินผลตนเองก่อนเรียนและหลังเรียน 	(ประเมินผลด้วยตนเอง)
2.
		
ประเมินผลจากกิจกรรมและแนวตอบท้ายเรื่อง
	(ประเมินผลด้วยตนเอง)
3.	
ประเมินผลจากกิจกรรมฝึกปฏิบัติเสริมทักษะด้วยตนเอง
4.
		
ประเมินผลจากกิจกรรมฝึกปฏิบัติเสริมทักษะภาคสนาม
5.
		
ประเมินผลจากการสอบประจ
า
ภาคการศึกษา
เมื่ออ่านแผนการสอนแล้ว ขอให้ท าแบบประเมินผลตนเองก่อนเรียน
หน่วยท
ี่ 5 ในแบบฝึกปฏิบัติ แล้วจึงศึกษาเอกสารการสอนต่อไป
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-4
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ตอนที่ 5.1
การตรวจสอบแก้ไขความผิดพลาด
โปรดอ่านหัวเรื่อง 	แนวคิด 	และวัตถุประสงค์ของตอนที่ 	5.1 	แล้วจึงศึกษารายละเอียดต่อไป
หัวเรื่อง
5.1.1		 สัญญาณรบกวนและการป้องกัน5.1.2	การตรวจสอบความผิดพลาด5.1.3	การแก้ไขความผิดพลาด
แนวคิด
1.			ส ัญญาณรบกวนเป็นสัญญาณที่ไม่พึงประสงค์ที่สามารถท า ให้สัญญาณข้อมูลเกิดความ
ผิดพลาดได้
	ส
ัญญาณรบกวนเกิดมาจากหลายสาเหตุด้วยกัน
	โดยอาจเก
ิดจากสภาพ
แวดล้อมที่ส่งผลให้เกิดสัญญาณรบกวนทางไฟฟ้าหรืออุณหภูมิ
	
ในการป้องกันสัญญาณ
รบกวนสามารถท
า
ได้หลายวิธี
	ทั้งนี้ขึ้นอยู่กับสัญญาณรบกวนแต่ละประเภท
2
.			การแลกเปล
ี่ยนข้อมูลสามารถเกิดความผิดพลาดได้ในระหว่างการเดินทางของข้อมูลใน
ช่องสัญญาณ
	ซึ่งสามารถแบ่งความผิดพลาดออกเป็น
	3
	ประเภทคือ
	1)
	ความผิดพลาด
แบบบิตเดียว
	2)
	ความผิดพลาดแบบหลายบิต
	และ
	3)
	ความผิดพลาดแบบหลายบิต
ต่อเน
ื่อง
	
ส่วนการตรวจสอบความผิดพลาดเป็นวิธีการในการตรวจสอบความถูกต้องของ
ข้อมูล	โ
ดยการเพิ่มบิตตรวจสอบต่อท้ายข้อมูลจริง 	ซ
ึ่งเรียกเทคนิคนี้ว่า 	“
รีดันแดนซี” 	
ว
ิธีการที่แพร่หลายในการประยุกต์ใช้เทคนิคนี้
	ม
ี
	3
	ว
ิธี
	ค
ือ
	1)
	การใ
ช้บิตตรวจสอบ
	2)
	การ
ต
รวจสอบด้วยการหาผลรวม
	และ
	3)
	การตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวน
3.			เม
ื่อตรวจพบความผิดพลาดของข้อมูลในระหว่างการรับส่งข้อมูล
	
ระบบการสื่อสารข้อมูล
ต้องมีกระบวนการแก้ไขความผิดพลาดที่เกิดขึ้น
	
ซึ่งแบ่งออกเป็น
	
2
	
วิธีคือ
	
1)
	
การแก้ไข
ความผิดพลาดด้วยการส่งใหม่
	และ
	2)
	การแก้ไ
ขความผิดพลาดด้วยวิธีฟอร์เวิร์ด 	 
แอร์เ
รอ
	ดีเท็คชัน
วัตถุประสงค์
เมื่อศึกษาตอนที่ 	5.1 	จบแล้ว 	นักศึกษาสามารถ
1.	
อธิบายความหมายและการป้องกันของสัญญาณรบกวนแต่ละประเภทได้
2.	 อธิบายความหมายของความผิดพลาดแต่ละประเภทได้3.	 อธิบายหลักการท
า
งานของเทคนิคการตรวจสอบความผิดพลาดได้
	
4.	
อธิบายหลักการท
า
งานของเทคนิคการแก้ไขความผิดพลาดได้
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-5
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
เรื่องที่ 5.1.1 
สัญญาณรบกวนและการป้องกัน
สัญญาณรบกวน 	(Noise) 	ที่มาพร้อมกับสัญญาณข้อมูลบนช่องสัญญาณนั้นถือเป็นสิ่งปกติที่พบ
อย
ู่เสมอ
	
เช่น
	
ในขณะก
า
ลังฟังรายการวิทยุบางครั้งอาจมีเสียงเหมือนเสียงฝนตกแทรกเข้ามา
	
หรือเสียงไม่ชัด 	
หรือหายเป็นช่วงๆ
	สัญญาณรบกวนที่มาพร้อมกับสัญญาณข้อมูลบนช่องสัญญาณนั้นเกิดขึ้นไ
ด้จากหลาย
สาเหตุ
	ลักษณะของสัญญาณข้อมูลที่ถูกสัญญาณรบกวนดังแสดงในภาพที่
	5.1
	
(ก)	สัญญาณข้อมูลที่ปราศจากสัญญาณรบกวน
(ข)
	สัญญาณข้อมูลที่มีสัญญาณรบกวนเล็กน้อย
(ค)
	สัญญาณข้อมูลที่มีสัญญาณรบกวนมากเวลา
เวลา
เวลาแอมพลิจูด
แอมพลิจูดแอมพลิจูด
ภาพที่ 5.1 การเกิดสัญญาณรบกวนในสัญญาณข้อมูลดิจิทัล
จากภาพที่ 	5.1	(ก)	ซึ่งเป็นสัญญาณดิจิทัลที่ไม่มีสัญญาณรบกวน 	แต่เมื่อเดินทางผ่านช่องสัญญาณ
ซ
ึ่งมีสัญญาณรบกวนไม่มากนัก
	
มีผลให้สัญญาณดิจิทัลมีการเปลี่ยนรูปร่างไปเล็กน้อยดังแสดงในภาพที่
	
5.1	
(ข)
	และเม
ื่อสัญญาณรบกวนมีมากขึ้นรูปร่างของสัญญาณดิจิทัลจะเปลี่ยนไปจากสัญญาณดิจิทัลเดิมมาก
ขึ้นดังแสดงในภาพที่
	5.1
	(ค)
	จนในท
ี่สุดอาจจะท
า
ให้ข้อมูลที่มาถึงสถานีรับข้อมูลเปลี่ยนไปมากจนไม่
สามารถระบุค่าของข้อมูลได้
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-6
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
1.  ประเภทของส ัญญาณรบกวน
สัญญาณรบกวนมีด้วยกันหลายประเภท 	เ ช่น
1.1  เทอร์ม ัลนอยซ์ (Thermal Noise) 	เป็นส ัญญาณรบกวนที่เกิดจากความร้อนหรืออุณหภูมิที่
สูงขึ้น
	
เนื่องมาจากการเคลื่อนที่ของอิเล็กตรอนบนลวดตัวน
า	
โดยถ้าลวดตัวน
า
มีอุณหภูมิสูงขึ้นจะส่งผลให้
ระดับของสัญญาณรบกวนสูงขึ้นตามไปด้วย
	ส
ัญญาณรบกวนชนิดนี้มีรูปแบบไม่แน่นอนและอาจมีการ  
กระจายไปทั่วไป
	
ส
า
หรับการป้องกันสัญญาณรบกวนประเภทนี้ป้องกันได้ด้วยการใช้อุปกรณ์กรองสัญญาณ
ส
า
หรับสัญญาณแอนะล็อก
	ส่วนส
ัญญาณดิจิทัลจะใช้อุปกรณ์รีเจนเนอร์เรเตอร์
	(Regenerator)
	ซ
ึ่งเป็น
อุปกรณ์อิเล็กทรอนิกส์ที่ท
า
หน้าที่ปรับสัญญาณให้มีคุณสมบัติเหมือนกับสัญญาณที่แหล่งก
า
เนิด
1.2  อ ิมพัลส์นอยซ์ (Impulse Noise) 	เป็นสัญญาณรบกวนที่ท า ให้เกิดคลื่นสัญญาณโด่งผิดปกติ
อย่างรวดเร็ว
	และเป็นสัญญาณรบกวนแบบไม่คงที่ท
า
ให้ยากต่อการตรวจจับ
	เพราะว่าเกิดขึ้นในช่วงเ
วลา
สั้นๆ
	
แล้วก็หายไป
	
ดังแสดงในภาพที่
	
5.2
	
ส
า
หรับรูปแบบของสัญญาณรบกวนอิมพัลส์นอยซ์ส่วนใหญ่แล้ว
มักเกิดการรบกวนจากภายนอกแบบเฉียบพลัน
	
เช่น
	
ฟ้าแลบ
	
ฟ้าผ่า
	
เป็นต้น
	
หากสัญญาณรบกวนประเภท
นี้ได้แทรกเข้ามากับสัญญาณดิจิทัล
	ก
็สามารถกู้คืนสัญญาณให้กลับมาอยู่ในรูปแบบสัญญาณต้นฉบับได้ 	
แต่ส
ัญญาณรบกวนประเภทนี้บางครั้งอาจจะลบล้างสัญญาณต้นฉบับออกไปได้เช่นกัน
	
ท
า
ให้ข้อมูลบางส่วน
ขาดหายไป
	ซ
ึ่งมีผลท
า
ให้ไม่สามารถท
า
การกู้คืนกลับมาได้ดังเดิม
	ส

า
หรับการป้องกันสัญญาณรบกวน  
ชนิดนี้
	สามารถป้องก
ันได้ด้วยการใช้อุปกรณ์กรองสัญญาณพิเศษส
า
หรับสัญญาณแอนะล็อกหรืออุปกรณ์
ประมวลผลสัญญาณดิจิทัลส
า
หรับสัญญาณดิจิทัล
	
แอมพลิจูด
แอมพลิจูดเวลา
เวลาอิมพัลส์นอยซ์
สัญญาณเมื่อเกิด
อิมพัลส์นอยซ์สัญญาณต้นฉบับ
ภาพที่ 5.2 การเปลี่ยนรูปร่างของสัญญาณเมื่อเกิดสัญญาณรบกวนประเภทอิมพัลส์นอยซ์
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-7
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
1.3  ครอสทอล์ก (Crosstalk) 	เป็นส ัญญาณรบกวนที่เกิดจากการเหนี่ยวน า ของสนามแม่เหล็ก
ไฟฟ้า
	
ท
า
ให้เกิดสัญญาณรบกวนแทรกเข้าไปในสัญญาณข้อมูลที่ส่งผ่านเข้าไปในช่องสัญญาณ
	
โดยเฉพาะ
ช่องสัญญาณประเภทสายคู่บิดเกลียวที่ใช้กับสายโทรศัพท์มักเกิดสัญญาณรบกวนประเภทนี้ได้ง่าย 	
เน
ื่องจากในระบบส่งสัญญาณมีสายส่งหลายเส้น
	
และเมื่อน
า
สายคู่บิดเกลียวเหล่านั้นมามัดรวมกัน
	
จะท
า
ให้
เกิดการเหนี่ยวน าข
องสนามแม่เหล็กไฟฟ้าในสายแต่ละเส้น
	ซ
ึ่งจะทาใ
ห้สัญญาณในแต่ละเส้นรบกวนซึ่งกัน
และกัน
	ส

า
หรับการป้องกันสัญญาณรบกวนชนิดนี้
	สามารถป้องก
ันได้ด้วยการใช้สายสัญญาณที่มีฉนวน
หรือชีลด์
	
(Shield)
	
เพราะฉนวนจะช่วยป้องกันการรบกวนของสัญญาณระหว่างสายแต่ละเส้นได้
	
ดังแสดง
ในภาพที่
	5.3
คือ ครอสทอลก
ภาพที่ 5.3 การเกิดสัญญาณรบกวนประเภทครอสทอล์กในสายคู่บิดเกลียว
1.4  เอคโค (Echo) 	เป็นสัญญาณสะท้อนกลับซึ่งเป็นลักษณะเดียวกันกับการตะโกนในห้องว่า งๆ 	
และเส
ียงสะท้อนกลับมาให้ได้ยินอีกครั้ง
	
ลักษณะของการเกิดสัญญาณรบกวนเอคโค
	
ดังแสดงในภาพที่
	
5.4	
จากภาพส
ัญญาณที่ส่งไปบนสายโคแอกเซียลเดินทางไปยังสุดปลายสาย
	และม
ีการสะท้อนกลับ
	ท

า
ให้
อุปกรณ์ใกล้เคียงได้รับสัญญาณสะท้อนกลับนั้น
	ซึ่งท
า
ให้เกิดความเข้าใจผิดว่าช่องสัญญาณไม่ว่าง
	ท
า
ให้
ต้องหยุดรอการส่งข้อมูลแทนที่จะสามารถส่งข้อมูลได้ทันที
	ส

า
หรับการป้องกันสัญญาณรบกวนเอคโคนี้ 	
สามารถใ
ช้อุปกรณ์ที่เรียกว่า
	
เทอร์มิเนเตอร์
	
(Terminator)
	
ท
า
หน้าที่ลดการสะท้อนกลับของสัญญาณโดย
การดูดกลืนสัญญาณสะท้อนนั้น
	ซึ่งในระบบเครือข่ายแลนที่มีการใ
ช้สายโคแอกเซียลเป็นตัวกลางส่งข้อมูล
	
มักจะใ
ช้เทอร์มิเนเตอร์ปิดที่ปลายสายทั้งสองด้านของสาย
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-8
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
คอมพิวเตอร์ 	
#
	1คอมพิวเตอร์ 	
#
	2คอมพิวเตอร์ 	
#
	3สายโคแอกเ
ชียล	 จุดปลายทางสายโคแอกเชียล
คือ
	สัญญาณข้อมูลต้นฉบับ
คือ
	สัญญาณเอคโค
ภาพที่ 5.4 ลักษณะของการเกิดสัญญาณรบกวนประเภทเอคโค
1.5  จ ิตเตอร์ (Jitter) 	เป็นสัญญาณรบกวนอีกประเภทหนึ่งที่เกิดจากการเปลี่ยนแปลงความถี่ของ
ส
ัญญาณอย่างต่อเนื่อง
	
มีผลท
า
ให้สัญญาณมีการเลื่อนเฟส
	
(Phase)
	ไป
อย่างต่อเนื่องด้วย
	ล
ักษณะการเกิด
ของสัญญาณรบกวนประเภทจิตเตอร์ดังแสดงในภาพที่
	
5.5
	
ส
า
หรับการป้องกันสัญญาณรบกวนประเภทนี้
	
สามารถป้องก
ันได้ด้วยการเลือกใช้วงจรอิเล็กทรอนิกส์ที่มีคุณภาพ
	หร
ืออาจใช้อุปกรณ์รีพีตเตอร์
	(Re
-
peater)
	เพื่อทวนซ้
า
สัญญาณ
สัญญาณข้อมูลดิจิทัลก่อนเกิดจิตเตอร์
	
		สัญญาณข้อมูลดิจิทัลเมื่อเกิดจิตเตอร์
ภาพที่ 5.5 รูปร่างของสัญญาณดิจิทัลเมื่อเกิดสัญญาณรบกวนประเภทจิตเตอร์
จากภาพที่ 	5.5	จะเห็นว่ารูปร่างของสัญญาณข้อมูลดิจิทัลหลังเกิดสัญญาณรบกวนประเภทจิตเตอร์
ย
ังคงเหมือนเดิมแต่เฟสของสัญญาณเปลี่ยนไป
	
กล่าวคือสัญญาณรบกวนประเภทนี้ท
า
ให้สัญญาณข้อมูลมี
การเลื่อนเฟสออกไป
	
ซึ่งถ้าเฟสที่เลื่อนไปนั้นมีค่ามากพอ
	
ก็จะท
า
ให้สถานีรับข้อมูลได้รับข้อมูลผิดเพี้ยนไป
จากข้อมูลที่ส่งมาจากสถานีส่งข้อมูล
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-9
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
1.6  ความผิดเพี้ยนจากการเคลื่อนที่ (Delay Distortion) 	เ ป็นสัญญาณรบกวนที่เกิดจากสัญญาณ
ข้อมูลเคลื่อนที่ด้วยความเร็วของความถี่ที่แตกต่างกัน
	
โดยสัญญาณที่เคลื่อนที่ตามมาทีหลังตามทันสัญญาณ
ที่เดินทางมาก่อนและสัญญาณเกิดการผสมกัน 	ล
ักษณะของสัญญาณรบกวนประเภทนี้ดังแสดงในภาพที่ 	
5.6
	
การป้องกันสัญญาณรบกวนชนิดนี้
	
ท
า
ได้โดยการเพิ่มวงจรอีควอลไลซ์
	
(Equalize)
	
ซึ่งเป็นวงจรที่ช่วย
ในการปรับความเร็วของความถี่ของสัญญาณที่ผ่านเข้ามาให้มีค่าเท่ากัน
	
	สัญญาณ	 สัญญาณ
	ช่องที่
	2	
ช่องที่
	1	 สัญญาณ	 สัญญาณ
	ช่องที่
	2	
ช่องที่
	1
สถานี
ส่งข้อมูลสถานี
รับข้อมูล
(ก)	ไม่เกิดการผิดเพื้ยนจากการเคลื่อนที่
	สัญญาณ	 สัญญาณ	ช่องที่
	2	
ช่องที่
	1	 สัญญาณ	 สัญญาณ
	ช่องที่
	2	
ช่องที่
	1สถานี
ส่งข้อมูลสถานี
รับข้อมูล
(ข)	เกิดการผิดเพี้ยนจากการเคลื่อนที่
ภาพที่ 5.6 การเกิดของสัญญาณรบกวนประเภทความผิดเพี้ยนจากการเคลื่อนที่
จากภาพที่ 	5.6 	(ก) 	เป็นส ัญญาณที่ยังไม่เกิดสัญญาณรบกวนประเภทความผิดเพี้ยนจากการ
เคลื่อนที่จะในภาพพบว่าสัญญาณในช่องที่ 	1	ซ
ึ่งถูกส่งมาจากสถานีส่งข้อมูลก่อนก็จะถึงสถานีรับข้อมูลก่อน 	
โดยส
ัญญาณในช่องที่
	
2
	
ก็ยังอยู่ในช่องของตนเอง
	
แต่เมื่อเกิดสัญญาณรบกวนประเภทนี้ขึ้น
	
โดยพิจารณา
จากภาพที่
	5.6
	(ข)
	จะเห็นได้ว่าสัญญาณในช่องที่
	2
	เดินทางด้วยอัตราเ
ร็วที่มากกว่าสัญญาณในช่องที่
	1
	
ส่งผลให้สัญญาณในช่องที่
	2
	บางส่วนเ
ข้าไปผสมกับสัญญาณในช่องที่
	1
	ซึ่งอาจจะท
า
ให้สัญญาณในช่องที่
	
1
	นั้นมีรูปร่างเปลี่ยนไปจนท
า
ให้สถานีรับข้อมูลได้รับข้อมูลที่ผิดพลาด
1.7  การอ่อนก  า ลังของสัญญาณ (Attenuation) 	เมื่อสัญญาณข้อมูลได้เดินทางผ่านช่องสัญญาณ
ในระยะทางไกลๆ
	ม
ีผลท
า
ให้ความเข้มของสัญญาณลดลง
	ย
ิ่งระยะทางในการเดินทางของสัญญาณไกล
เท่าไรความเข้มของสัญญาณก็ยิ่งลดลงเท่านั้น
	
ซึ่งจะมีผลกระทบต่ออุปกรณ์รับ
	
เนื่องจากสัญญาณที่รับเข้ามา
นั้นจะต้องมีระดับความเข้มของสัญญาณมากพอที่ท
า
ให้อุปกรณ์รับสัญญาณสามารถตรวจจับสัญญาณที่เข้า
มาได้
	ด
ังนั้นจึงจาเ
ป็นต้องใช้อุปกรณ์เพื่อช่วยขยายความเข้มของสัญญาณที่เรียกว่า 	ร
ีพีตเตอร์	ซ
ึ่งจะทาใ
ห้
สัญญาณนั้นมีความเข้มมากขึ้นและยังช่วยซ่อมแซมสัญญาณให้อยู่ในรูปแบบเหมือนกับต้นฉบับ 	ท
าใ
ห้
สามารถส่งต่อไปในระยะทางไกลได้อีก
	ดังแสดงในภาพที่
	5.7
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-10
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
สถานี
รับขอมูล10 วัตต 100 วัตตสถานี
สงขอมูลรีพีตเตอร
ภาพที่ 5.7 ลักษณะการเกิดสัญญาณรบกวนประเภทการอ่อนก าลังของสัญญาณ
จากภาพที่ 	5 .7 	จ ะพบว่าเมื่อสัญญาณถูกส่งจากสถานีส่งข้อมูลและเดินทางเป็นระยะทางไกลๆ 	
ความเ
ข้มหรือก
า
ลังของสัญญาณ
	
(แอมพลิจูด)
	
จะลดลง
	
เช่น
	
ตอนที่ส่งจากสถานีส่งข้อมูล
	
ก
า
ลังของสัญญาณ
มีค่า
	
100
	
วัตต์
	
(Watt)
	
แต่เมื่อเดินทางเป็นระยะทางไกลๆ
	
ผ่านสิ่งกีดขวางและสัญญาณไม่พึงประสงค์อื่นๆ 	
ท
า
ให้ก
า
ลังของสัญญาณอาจจะลดลงเหลือแค่
	10
	วัตต์
	อาจส่งผลท
า
ให้สถานีรับข้อมูลไม่สามารถตรวจจับ
สัญญาณหรือระบุค่าของสัญญาณที่เข้ามาได้จึงจ
า
เป็นต้องใช้รีพีตเตอร์เพื่อช่วยเพิ่มความเข้มและซ่อมแซม
สัญญาณ
	
2.  ว ิธีการป้องกันสัญญาณรบกวน
สัญญาณรบกวนเป็นสาเหตุส าค ัญที่ทาใ ห้ข้อมูลในช่องสัญญาณเกิดความผิดพลาดขึ้น 	ด ังนั้นระบบ
การติดต่อสื่อสารจึงจ าเ
ป็นต้องมีการป้องกันการรบกวนของสัญญาณชนิดต่างๆ 	โ
ดยมีแนวทางที่สามารถ
ช่วยลดสัญญาณรบกวนดังนี้คือ
2.1		ใช้สายเคเบิลชนิดที่มีฉนวนหุ้ม 	ซ
ึ่งสามารถช่วยลดการแทรกแซงของสัญญาณรบกวนที่เกิด
จากคลื่นแม่เหล็กไฟฟ้าและสัญญาณรบกวนประเภทครอสทอล์ก
2.2		
สายโทรศัพท์ควรจัดอยู่ในสภาพที่เหมาะสม
	
เช่น
	
มีอุปกรณ์กรองสัญญาณเพื่อช่วยลดสัญญาณ
ที่ไม่สม่
า
เสมอ
	
2.3
		
เลือกใช้อุปกรณ์ใหม่ที่มีประสิทธิภาพและทันสมัยทดแทนอุปกรณ์เดิมที่มีประสิทธิภาพต่
า	
2
.4		
ใช้อุปกรณ์รีพีตเตอร์ในการทวนซ้
า
สัญญาณ
	ท
ั้งนี้เพื่อเพิ่มระยะทาง
	และย
ังช่วยลดความผิด
พลาดที่เกิดจากสัญญาณรบกวนลงได้ด้วย
2.5		
พิจารณาข้อก
า
หนดและข้อจ
า
กัดของสายสัญญาณแต่ละชนิด
	เพ
ื่อเลือกใช้ให้เหมาะกับ
วัตถุประสงค์ของการใช้งาน
	
เช่น
	
สาย
	
UTP-CAT5
	
ใช้ส
า
หรับเชื่อมโยงในระยะทางไม่เกิน
	
100
	
เมตร
	
และ
ใช้ส่งข้อมูลที่อัตราความเร็ว
	100
	Mbps
	เป็นต้น
	
สามารถสรุปการป้องกันสัญญาณรบกวนแต่ละประเภทได้ดังตารางที่
	5.1
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-11
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ตารางที่ 5.1 สรุปเทคนิคการป้องกันของสัญญาณรบกวนแต่ละประเภท
ประเภทสัญญาณรบกวน การป้องกัน
เทอร์มัลนอยซ์ ใช้รีเจนเนอร์เรเตอร์เพื่อช่วยปรับสัญญาณให้มีคุณสมบัติเหมือนกับสัญญาณ
ต้นฉบับ
อิมพัลส์นอยซ์ ใช้อุปกรณ์กรองสัญญาณพิเศษส
า
หรับสัญญาณแอนะล็อกหรืออุปกรณ์
ประมวลผลสัญญาณดิจิทัลส
า
หรับสัญญาณดิจิทัล
ครอสทอล์ก ใช้สายสัญญาณที่มีฉนวน
เอคโค ใช้เทอร์มิเนเตอร์เพื่อช่วยลดการสะท้อนกลับของสัญญาณโดยการดูดกลืนสัญญาณสะท้อน
จิตเตอร์ ใช้วงจรอิเล็กทรอนิกส์ที่มีคุณภาพหรืออาจจะให้อุปกรณ์รีพีตเตอร์
ความผิดเพี้ยนจากการเคลื่อนที่ เพิ่มวงจรอีควอลไลซ์เพื่อปรับความเร็วของความถี่ของสัญญาณให้เท่ากัน
การอ่อนก
า
ลังของสัญญาณ ใช้อุปกรณ์รีพีตเตอร์เพื่อช่วยทวนซ้
า
สัญญาณ
	
จากการป้องกันสัญญาณรบกวนข้างต้น 	เป็นเพียงแนวทางการป้องกันและช่วยลดสัญญาณรบกวน
ลงระหว่างการเด
ินทางของสัญญาณในช่องสัญญาณก่อนที่จะถึงสถานีรับข้อมูล
	แต่ไม่ได้หมายความว่า
ข้อม
ูลจะไม่เกิดความผิดพลาด
	ด
ังนั้นในกรณีที่ข้อมูลเกิดความผิดพลาดระบบการสื่อสารข้อมูลจะต้องมี
กระบวนการที่สามารถตรวจสอบความผิดพลาดเข้ามาช่วยท
า
ให้ระบบการสื่อสารข้อมูลมีความน่าเชื่อถือ
มากยิ่งขึ้น
	ซึ่งจะได้กล่าวถึงกระบวนการดังกล่าวในเ
รื่องต่อไป
กิจกรรม 5.1.1
1.		 จงยกตัวอย่างประเภทของสัญญาณรบกวนพร้อมความหมายมาสัก 	2 	ประเภท
2.
		
จงบอกวิธีป้องกันสัญญาณรบกวนแต่ละประเภท
แนวตอบกิจกรรม 5.1.1
1.		 สัญญาณรบกวนมีหลายประเภทด้วยกัน 	แต่จะยกตัวอย่างแค่ 	2 	ประเภท 	ดังต่อไปนี้คือ 	
1
)	จิตเตอร์
	
(Jitter)
	
เกิดจากการเปลี่ยนแปลงความถี่ของสัญญาณอย่างต่อเนื่อง
	
มีผลท
า
ให้
สัญญาณมีการเลื่อนเฟสไปอย่างต่อเนื่องด้วย
	
ส
า
หรับการป้องกันสัญญาณรบกวนประเภทนี้สามารถป้องกัน
ได้ด้วยการเลือกใช้วงจรอิเล็กทรอนิกส์ที่มีคุณภาพหรืออาจใช้อุปกรณ์รีพีตเตอร์เพื่อทวนซ้
า
สัญญาณ
2)	ความผิดเพี้ยนจากการเคลื่อนที่
	(Delay
	Distortion)
	เกิดจากสัญญาณข้อมูลเคลื่อนที่
ด้วยความเ
ร็วของความถี่ที่แตกต่างกันโดยสัญญาณที่เคลื่อนที่ตามมาทีหลังตามทันสัญญาณที่เดินทางมา
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-12
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ก่อนและสัญญาณเกิดการผสมกัน 	การป้องกันสัญญาณรบกวนชนิดนี้ 	ท า ได้โดยการเพิ่มวงจรอีควอลไลซ์
ซึ่งเป็นวงจรที่ช่วยในการปรับความเร็วของความถี่ของสัญญาณที่ผ่านเข้ามาให้มีค่าเท่ากัน
2.	 การป้องกันสัญญาณรบกวนแต่ละประเภทมีดังนี้คือ
ประเภทสัญญาณรบกวน การป้องกัน
เทอร์มัลนอยซ์ ใช้รีเจนเนอร์เรเตอร์เพื่อช่วยปรับสัญญาณให้มีคุณสมบัติเหมือนกับสัญญาณ
ต้นฉบับ
อิมพัลส์นอยซ์ ใช้อุปกรณ์กรองสัญญาณพิเศษส
า
หรับสัญญาณแอนะล็อกหรืออุปกรณ์
ประมวลผลสัญญาณดิจิทัลส
า
หรับสัญญาณดิจิทัล
ครอสทอล์ก ใช้สายสัญญาณที่มีฉนวน
เอคโค ใช้เทอร์มิเนเตอร์เพื่อช่วยลดการสะท้อนกลับของสัญญาณโดยการดูดกลืนสัญญาณสะท้อน
จิตเตอร์ ใช้วงจรอิเล็กทรอนิกส์ที่มีคุณภาพหรืออาจจะให้อุปกรณ์รีพีตเตอร์
ความผิดเพี้ยนจากการเคลื่อนที่ เพิ่มวงจรอีควอลไลซ์เพื่อปรับความเร็วของความถี่ของสัญญาณให้เท่ากัน
การอ่อนก
า
ลังของสัญญาณ ใช้อุปกรณ์รีพีตเตอร์เพื่อช่วยทวนซ้
า
สัญญาณ
	
เรื่องที่ 5.1.2 การตรวจสอบความผิดพลาด 
ในการติดต่อสื่อสารข้อมูลบนระบบเครือข่ายนั้น 	ความถ ูกต้องของข้อมูลที่ส่งจากสถานีส่งข้อมูล
ไปยังสถานีรับข้อมูลเป็นสิ่งที่ส
า
คัญอย่างยิ่ง
	
แม้ว่าสถานีรับข้อมูลต้องการข้อมูลที่ถูกต้อง
	
แต่เนื่องจากระบบ
เครือข่ายคอมพิวเตอร์เป็นระบบขนาดใหญ่
	ส่งผลใ
ห้ข้อมูลอาจผิดเพี้ยนไปบ้างในระหว่างที่เดินทางผ่าน
อุปกรณ์ต่างๆ 	
ดังนั้นระบบเครือข่ายที่มีความเชื่อถือได้นั้นจ า
เป็นต้องมีกระบวนการในการตรวจสอบความ
ผิดพลาด
	รวมทั้งมีความสามารถในการแก้ไ
ขความผิดพลาดเหล่านั้นได้ด้วย
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-13
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
1.  ประเภทของความผ ิดพลาด
การแบ่งประเภทของความผิดพลาด 	โดยพ ิจารณาจากความผิดพลาดของการรับส่งกลุ่มของบิต
ข้อมูล
	
สามารถแบ่งออกเป็น
	
3
	
ประเภท
	
คือ
	
1)
	
ความผิดพลาดประเภทบิตเดียว
	
2)
	
ความผิดพลาดประเภท
หลายบิต
	และ
	3)
	ความผิดพลาดประเภทหลายบิตต่อเนื่อง
	
1.1  ความผ ิดพลาดประเภทบิตเดียว (Single-Bit Error) 	พ ิจารณาจากข้อมูลที่ได้รับมาซึ่งอาจ
จะรับมาเป็นไบต์
	
ตัวอักษร
	
หรือเฟรมข้อมูลก็ได้
	
แต่จะมีบิตข้อมูลเพียง
	
1
	
บิตที่เปลี่ยนไปจากข้อมูลที่ส่งมา
จากสถานีส่งข้อมูล
	ซึ่งอาจจะเปลี่ยนจาก
	“0”
	ไปเป็น
	“1”
	หรือ
	เปลี่ยนจาก
	“1”
	ไปเป็น
	“0”
	ก็ได้
	ดัง
แสดงในภาพที่
	5.8
	วิธีแก้ไ
ขคือสถานีรับข้อมูลเปลี่ยนบิตที่ผิดพลาดเป็นบิตตรงกันข้าม
	
	 8		 7		 6 		 5 		 4 		 3 		 2 		 1
	 0
		
0
		
1
		
1
		
0
		
0
		
1
		
0
	 0
		
1
		
0
		
0
		
0
		
1
		
0
		
0
	 1
		
2
		
3
		
4
		
5	 6
		
7
		
8สถานีส่งข้อมูล
สถานีรับข้อมูลเปลี่ยนจาก
	1
	เป็น
	0 ช่องสัญญาณ
ภาพที่ 5.8 ตัวอย่างความผิดพลาดประเภทบิตเดียว
เมื่อพิจารณาจากภาพที่ 	5.8 	สมมต ิว่าสถานีส่งข้อมูลได้ส่งข้อมูล 	01001100 	เ ข้าในช่องสัญญาณ
สื่อสาร	แ
ละสถานีรับข้อมูลได้รับข้อมูล 	0
1000100	ซ
ึ่งเป็นข้อมูลที่ไม่ตรงกับข้อมูลที่สถานีส่งข้อมูลส่งให้ 	
โดยบิตที่ผิดพลาดมีบิตเดียวคือบิตที่
	5
	ซึ่งเปลี่ยนจาก
	1
	เป็น
	0
	ดังนั้นวิธีแก้ไ
ขก็คือสถานีรับข้อมูลเปลี่ยน
บิตที่
	5
	เป็นบิตตรงกันข้าม
	นั่นก็คือเปลี่ยนเป็น
	1
	
1.2  ความผ ิดพลาดประเภทหลายบิต (Multiple-Bit Error) 	พ ิจารณาจากข้อมูลที่ได้รับมาซึ่ง
อาจจะรับมาเป็นไบต์ 	ตั
วอักษร	ห
รือเฟรมข้อมูลนั้น 	จ
ะมีบิตข้อมูลมากกว่า 	1	บิ
ต	ซึ่
งไม่ได้อยู่ติดกันเปลี่ยน
ไปจากข้อมูลที่มาจากสถานีส่งข้อมูล
	ดังแสดงในภาพที่
	5.9
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-14
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
	 8		 7		 6 		 5 		 4 		 3 		 2 		 1
	 0
		
0
		
1
		
1
		
0
		
0
		
1
		
0
	 0
		
0
		
0
		
0
		
1
		
1
		
1
		
0
	 1
		
2
		
3
		
4
		
5
		
6
		
7
		
8ช่องสัญญาณ
เปลี่ยนจาก	
1	เป็น	0เปลี่ยนจาก
	0
	เป็น
	1สถานีส่งข้อมูล
สถานีรับข้อมูล
ภาพที่ 5.9 ตัวอย่างความผิดพลาดประเภทหลายบิต
เมื่อพิจารณาจากภาพที่ 	5.9 	สมมต ิว่าสถานีส่งข้อมูลได้ส่งข้อมูล 	01001100 	เ ข้าในช่องสัญญาณ
สื่อสาร
	
และสถานีรับข้อมูลได้รับข้อมูล
	
00001110
	
ซึ่งเป็นข้อมูลที่ไม่ตรงกับข้อมูลที่สถานีส่งข้อมูลส่งให้
	
โดย
บิตที่ผิดพลาดมี
	2
	บิตคือบิตที่
	2
	ซึ่งเปลี่ยนจาก
	1
	เป็น
	0
	และบิตที่
	7
	ซึ่งเปลี่ยนจาก
	0
	เป็น
	1
	ดังนั้นวิธี
แก้ไ
ขก็คือสถานีรับข้อมูลเปลี่ยนบิตที่
	2
	เป็นบ
ิตตรงกันข้าม
	น
ั่นก็คือเปลี่ยนเป็น
	1
	และเปล
ี่ยนบิตที่
	7
	เป็น
	0
1.3  ความผ ิดพลาดประเภทหลายบิตต่อเนื่อง (Burst Error) 	พิจารณาจากข้อมูลที่ได้รับมา 	ซึ่ง
อาจจะรับมาเป็นไบต์
	ตัวอักษร
	หรือเฟรมข้อมูลนั้นจะมีบิตข้อมูลมากกว่า
	1
	บิต
	ซึ่งอยู่ติดกันได้เปลี่ยนไป
จากข้อมูลสถานีส่งข้อมูล
	ดังแสดงในภาพที่
	5.10
	
	 8	 7	 6	 5	 4	 3	 2	 1
	 0	 0	 1	 1	 0	 0	 1	 0
	 0	 1
		
0
		
1	 0
		
1	 0	 0
	 1
		
2
		
3
		
4
		
5
		
6
		
7
		
8ช่องสัญญาณสถานีส่งข้อมูล
สถานีรับข้อมูลเปลี่ยนจาก
	
0
	เป็น
	1เปลี่ยนจาก
	
1
	เป็น
	0
ภาพที่ 5.10 ตัวอย่างความผิดพลาดประเภทหลายบิตต่อเนื่อง
เมื่อพิจารณาจากภาพที่ 	5.10 	สมมต ิว่าสถานีส่งข้อมูลได้ส่งข้อมูล 	01001100 	ในระหว่างการเด ินทาง
ระหว่างสถานีรับข้อมูลกับสถานีส่งข้อมูลนั้น
	ข้อมูลได้เปลี่ยนไปเป็น
	01010100
	ซึ่งจะท
า
ให้สถานีรับข้อมูล
ได้ข้อมูลที่ไม่ตรงกับสถานีส่งข้อมูล
	โดยบ
ิตที่เปลี่ยนไปคือ
	บ
ิตที่
	4
	และ
	5
	ซ
ึ่งเป็นบิตที่อยู่ติดกัน 	 
ดังนั้นวิธีแก้ไ
ขก็คือสถานีรับข้อมูลเปลี่ยนบิตที่
	4
	เป็น
	0
	และเปลี่ยนบิตที่
	5
	เป็น
	1
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-15
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
เมื่อเปรียบเทียบทั้ง 	3 	ประเภทแล้ว 	ความผ ิดพลาดหลายบิตต่อเนื่องมีโอกาสเกิดขึ้นมากที่สุด 	
เนื่องจากช่วงเ
วลาของการเกิดสัญญาณรบกวนจะมีช่วงเวลายาว
	ซึ่งท
า
ให้มีผลกระทบต่อชุดของบิตข้อมูล
แทนที่จะเป็นแค่บิตใดบิตหนึ่งของข้อมูล
	โดยท
ี่จ
า
นวนของบิตที่ผิดพลาดนี้จะขึ้นอยู่กับความเร็วในการรับ
ส่งข้อมูล
	เ
ช่น
	ถ้าส่งข้อม
ูลด้วยความเร็ว
	1
	Kbps
	และเก
ิดสัญญาณรบกวนเป็นเวลา
	1/10
	ว
ินาที
	ผลท
ี่เกิดขึ้น
ก็คือท
า
ให้ชุดข้อมูลเกิดความผิดพลาด
	100
	บิต
	เป็นต้น
2.  เทคน ิคการตรวจสอบความผิดพลาด
การตรวจสอบความผิดพลาด 	(Error 	Detection) 	เป็นวิธีการที่ใ ช้ในการตรวจหาความผิดพลาด
ของข้อมูลที่เกิดขึ้นระหว่างการรับส่งข้อมูลในช่องสัญญาณ
	ซึ่งความผิดพลาดดังกล่าวมีสาเหตุมาจากการ
ถ
ูกรบกวนจากปัจจัยต่างๆ
	
วิธีการตรวจสอบความผิดพลาดท
า
ได้โดยสถานีส่งข้อมูลสร้างบิตพิเศษขึ้นเรียกว่า 	
“บิตตรวจสอบ”
	
บิตตรวจสอบนี้เป็นเสมือนค่าที่ใช้ตรวจสอบความถูกต้องของข้อมูล
	
หลังจากนั้นก็เพิ่มบิต
ตรวจสอบต่อท้ายข้อมูลจริงก่อนส่งข้อมูลเข้าไปในช่องสัญญาณ
	เม
ื่อข้อมูลมาถึงสถานีรับข้อมูล
	สถาน
ี 
รับข้อมูลจะค
า
นวณความถูกต้องของข้อมูลที่ได้รับมา
	แล้วน
า
มาเทียบกับบิตตรวจสอบที่ต่อท้ายข้อมูล
	ถ้า
ม
ีค่าเท่ากันก็แสดงว่าข้อมูลที่ได้รับมานั้นถูกต้อง
	ซ
ึ่งเทคนิคดังกล่าวเรียกว่า
	ร
ีดันแดนซี
	(Redundancy) 	
ดังแสดงในภาพที่
	5.11
	
สถานีส่งข้อมูล
ข้อมูล
10100010สถานีรับข้อมูล
ข้อมูล
10100010
ถูกต้อง
ไม่ถูกต้อง
ข้อมูล ข้อมูล
บิตตรวจสอบ บิตตรวจสอบ	 10100010	 101 	 10100010	 101ทิ้งข้อมูลที่ได้รับ
หรือน
า
ข้อมูลที่
ได้รับไปแก้ไขข้อผิดพลาด
ช่องสัญญาณตรวจสอบ
ความถูกต้อง
ของข้อมูล
ภาพที่ 5.11 ขั้นตอนการท างานของเทคนิครีดันแดนซี
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-16
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
จากภาพที่ 	5.11	เมื่อสถานีส่งข้อมูลต้องการส่งข้อมูล 	“10100010” 	ไปให้สถานีรับข้อมูล 	ก่อนทาการ
ส่งข้อมูลสถานีส่งข้อมูลจะต้องค
า
นวณบิตตรวจสอบ
	ซึ่งได้ค่า
	“101”
	จากนั้นน
า
บิตตรวจสอบที่ค
า
นวณได้
มาต่อท้ายข้อมูลจริง
	แล้วส่งออกไป
	เพราะฉะนั้นข้อมูลที่อยู่ในช่องสัญญาณก็คือ
	“10100010101”
	และเมื่อ
ข้
อมูลมาถึงสถานีรับข้อมูล
	ส
ถานีรับข้อมูลจะต้องน
าส
่วนที่เป็นข้อมูล 	นั่
นคือ
	“
10100010101” 	ม
าตรวจสอบ
ความถูกต้อง
	ซ
ึ่งเทคนิคในการตรวจสอบความถูกต้องนั้นมีหลายเทคนิคด้วยกัน
	ซ
ึ่งรายละเอียดจะกล่าว
ต่อไป
	จากนั้นน
า
ค่าที่ได้จากการตรวจสอบข้อมูลมาเปรียบเทียบกับบิตตรวจสอบที่มาพร้อมกับข้อมูล
	ถ้า
ม
ีค่าเท่ากันก็น
าข้
อมูลไปประมวลผลต่อไป 	
ถ้ามีค่าไม่เท่ากันก็ขึ้นอยู่กับระบบการสื่อสารว่าจะจัดการอย่างไร 	
เ
ช่น
	ท
ิ้งข้อมูลทั้งหมดแล้วขอให้สถานีส่งข้อมูลส่งข้อมูลมาใหม่
	หร
ือจะแก้ไขความผิดพลาดของข้อมูลเอง 	
ซึ่งรายละเอียดจะกล่าวในตอนที่
	5.2
เทคนิคการท
า
รีดันแดนซีมีหลายวิธีด้วยกัน
	แต่ที่นิยมใ
ช้กันนั้นมี
	3
	วิธี
	คือ
	1)
	การตรวจสอบด้วย
บิตพาริตี้
	2)
	การตรวจสอบด้วยการหาผลรวม
	และ
	3)
	การตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวน
2.1  ก ารตรวจสอบด้วยบิตพาริตี้ (Parity Check) 	เป็นวิธีการตรวจสอบความผิดพลาดอย่างง่าย
และเป็นวีธีดั้งเดิม
	โดยจะใ
ช้บิต
	1
	บิต
	ที่เ
รียกว่าบิตพาริตี้
	(Parity
	Bit)
	ซึ่งประกอบด้วยค่า
	“0”
	หรือ
	“1”
	
เพ
ิ่มต่อท้ายข้อมูลเพื่อใช้เป็นบิตตรวจสอบ
	
วิธีนี้ยังแบ่งได้เป็น
	
2
	
แบบ
	
คือ
	
1)
	
การตรวจสอบบิตพาริตี้อย่างง่าย 	
และ
	2)
	การตรวจสอบบิตพาริตี้แบบสองมิติ
	
2.1.1  การตรวจสอบบ ิตพาริตี้อย่างง่าย (Simple Parity Check) 	การตรวจสอบความผิดพลาด
แบ
บนี้สามารถตรวจสอบความผิดพลาดประเภทบิตเดียวเท่านั้น
	ไ
ม่เหมาะกับกรณีของความผิดพลาด
ประเภทหลายบิตต่อเนื่อง 	เ
ทคนิคการตรวจสอบชนิดนี้ใช้ได้ผลกับข้อมูลที่มีจ าน
วนบิตที่ผิดพลาดเป็นจ
าน
วนคี่
เท่านั้น	โ
ดยไม่สามารถตรวจสอบความผิดพลาดได้ถ้าจ าน
วนบิตที่ผิดพลาดเป็นจ
าน
วนคู่	ก
ารตรวจสอบ
บิตพาริตี้อย่างง่ายสามารถท
า
ได้
	2
	วิธี
	คือ
	1)
	บิตพาริตี้คู่
	และ
	2)
	บิตพาริตี้คี่
	
1)	บิตพาริตี้คู่	(Even	Parity)	คือการเพิ่มบิตจ านวน	1	บิตต่อท้ายข้อมูล 	เพื่อให้จานวน
บิตที่มีค่า
	“1”
	ทั้งหมดในข้อมูลรวมกับบิตพาริตี้แล้ว
	มีจ
า
นวนเป็นเลขคู่
	นั่นคือ
	ถ้าจ
า
นวนบิตข้อมูลที่มีค่า
	
“1”
	เป็นเลขคี่
	บิตพาริตี้
	จะต้องมีค่าเป็น
	“1”
	แต่ถ้าจ
า
นวนบิตข้อมูลที่มีค่า
	“1”
	เป็นเลขคู่แล้ว
	บิตพาริตี้
	
จะต้องมีค่าเป็น
	“0”
	เ
ช่น
สมมติสถานีส่งข้อมูลต้องการส่งข้อมูล
	“1100001”
	ไปให้สถานีรับข้อมูล
	ก่อนที่สถานี
ส่งข้อม
ูลจะส่งข้อมูลออกไป
	
ต้องเพิ่มบิตพาริตี้ต่อท้ายข้อมูลที่ต้องการส่ง
	
ถ้าระบบการสื่อสารตกลงว่าจะใช้
บิตพาริตี้คู่
	สถาน
ีส่งข้อมูลจะต้องค
า
นวนหาค่าของบิตพาริตี้คู่จากข้อมูลที่ต้องการส่ง
	เพราะฉะน
ั้น
	จาก
ข้อม
ูล
	“1100001”
	จะพบว่าจ

า
นวนบิตข้อมูลที่มีค่าเป็น
	“1”
	ม
ีทั้งหมด
	3
	บ
ิตซึ่งเป็นเลขคี่
	ด
ังนั้นเพื่อให้
จ
า
นวนบิต
	“1”
	ของข้อม
ูลเมื่อนับรวมกับบิตพาริตี้เป็นจ
า
นวนคู่
	จ
ึงต้องก
า
หนดบิตพาริตี้ให้มีค่าเป็น
	“1”	
เพื่อท
า
ให้จ
า
นวนบิต
	“1”
	ทั้งหมดรวมแล้วเป็น
	4
	บิต
	ซึ่งเป็นเลขคู่
	ดังแสดงในภาพที่
	5.12
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-17
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
สถานีส่งข้อมูล
ข้อมูล
1100001สถานีรับข้อมูล
ข้อมูล
1100001
เอาพาริตี้บิตออก
ใช่
ไม่ใช่ จ
า
นวนบิต
เป็นคู่?
นับจ
า
นวนบิตค
า
นวณ
พาริตี้บิตคู่
ช่องสัญญาณ11000011 	 1100001
		
1ทิ้งข้อมูลที่ได้รับ
หรือน
า
ข้อมูลที่
ได้รับไปแก้ไขข้อผิดพลาด
ภาพที่ 5.12 ขั้นตอนการตรวจสอบข้อมูลด้วยการเพิ่มบิตพาริตี้คู่
2)	บิตพาริตี้คี่	 (Odd	Pa rity) 	คือการเพิ่มบิตจ านวน	1	บิตต่อท้ายข้อมูล 	เพื่อให้จานวน
บิตที่มีค่า
	
“1”
	
ทั้งหมดในข้อมูลรวมกับบิตพาริตี้แล้วมีจ
า
นวนเป็นเลขคู่คี่
	
นั่นคือ
	
ถ้าจ
า
นวนบิตข้อมูลที่มีค่า
	
“1”
	เป็นเลขคี่
	บิตพาริตี้
	จะต้องมีค่าเป็น
	“0”
	แต่ถ้าจ
า
นวนบิตข้อมูลที่มีค่า
	“1”
	เป็นเลขคู่แล้ว
	บิตพาริตี้
	
จะต้องมีค่าเป็น
	“1”
	เ
ช่น
สมมติสถานีส่งข้อมูลต้องการส่งข้อมูล
	“1100001”
	ไปให้สถานีรับข้อมูล
	ก่อนที่สถานี
ส่งข้อม
ูลจะส่งข้อมูลออกไป
	
ต้องเพิ่มบิตพาริตี้ต่อท้ายข้อมูลที่ต้องการส่ง
	
ถ้าระบบการสื่อสารตกลงว่าจะใช้
บิตพาริตี้คี่
	สถาน
ีส่งข้อมูลจะต้องค
า
นวนหาบิตพาริตี้คี่จากข้อมูลที่ต้องการส่ง
	เพราะฉะน
ั้น
	จากข้อม
ูล	
“1100001”
	จะพบว่าจ
า
นวนบิตข้อมูลที่มีค่าเป็น
	“1”
	มีทั้งหมด
	3
	บิต
	ซึ่งเป็นเลขคี่ดังนั้นเพื่อให้จ
า
นวนบิต
ที่มีค่าเป็น
	“1”
	ของข้อม
ูลเมื่อนับรวมกับบิตพาริตี้เป็นจ
า
นวนคี่
	จ
ึงต้องก
า
หนดบิตพาริตี้ให้มีค่าเป็น
	“0”	
เพื่อท
า
ให้จ
า
นวนบิตที่มีค่าเป็น
	“1”
	ทั้งหมดรวมแล้วเป็น
	3
	บิต
	ซึ่งเป็นเลขคี่
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-18
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ตัวอย่างที่ 1 	สมมติว่าสถานีส่งข้อมูลต้องการส่งข้อความ 	“world”	ไปให้สถานีรับ 	จงแสดง
ขั้นตอนการตรวจสอบข้อมูลโดยการใ
ช้เทคนิคการตรวจสอบด้วยบิตพาริตี้คู่
	
วิธีทา
สถาน
ีส่งข้อมูล
จากข้อความ 	“world” 	ซึ่งสามารถแปลงจาก 	ASCII 	code 	เป็นเลขฐานสองได้ดังนี้
1110111
	 	1101111
	 	1110010
	 	1101100
	 	1100100
	 w	
o	 r	 l	 d
เมื่อน
า
มาค
า
นวณหาค่าพาริตี้บิตโดยใช้วิธีพาริตี้คู่
	
จะพบว่าตัวอักษร
	
“w”
	
ซึ่งแปลงเป็นเลข
ฐานสองจะได้
	“1110111”
	เมื่อนับจ
า
นวนบิตที่มีค่าเป็น
	“1”
	แล้ว
	มีทั้งหมด
	6
	บิต
	เพราะฉะนั้นบิตพาริตี้จึง
มีค่าเป็น
	“0”
	ส
า
หรับตัวอักษร
	“o”
	“r”
	“l”
	“d”
	ก็ใ
ช้หลักการคิดเช่นเดียวกัน
	ในที่สุดก็จะได้บิตพาริตี้
ของแต่ละตัวอักษรดังนี้
	โดยบิตพาริตี้คือบิตที่ขีดเส้นใต้
	
1110111 0	1101111 0	1110010 0	1101100 0	1100100 1
เพราะฉะนั้นสถานีส่งข้อมูลก็จะส่งข้อมูล 	“1110111 0 	1101111 0 	1110010 0 	1101100 0 	1100100 1” 	ออกไป
สถานีรับข้อมูล
กรณีที่สถานีรับได้รับข้อมูลถูกต้อง
ถ้าสถานีรับข้อมูลได้รับข้อมูลต่อไปนี้
	11101110
	11011110
	11100100
	11011000
	11001001
	เมื่อ
รับข้อมูลแล้ว
	ท
า
การนับบิตที่มีค่าเป็น
	“1”
	ปรากฏว่าได้เป็นเลขคู่ทั้งหมด
	(6,
	6,
	4,
	4,
	4)
	แสดงว่าข้อมูล
ที่ได้รับมาถูกต้องทั้งหมด
	แต่ถ้า
กรณีที่สถานีรับได้รับข้อมูลไม่ถูกต้องถ้าสถานีรับข้อมูลได้รับข้อมูลเป็นดังนี้
	11111110
	11011110
	11101100
	11011000
	11001001
	เมื่อ
ได้ร
ับข้อมูลนี้มา
	ก
็จะท
า
การนับบิตที่เป็น
	“1”
	ปรากฏว่าเป็นท
ั้งเลขคู่และคี่
	(7,
	6,
	5,
	4,
	4).
	แสดงว่าม
ี
ข้อมูลบางส่วนเกิดความผิดพลาด
	เพราะฉะน
ั้นสถานีรับข้อมูลจะต้องมีวิธีจัดการกับความผิดพลาดที่เกิดขึ้น 	
ซ
ึ่งอาจจะตัดข้อมูลนั้นทิ้งไปโดยให้สถานีส่งข้อมูลท
า
การส่งข้อมูลเดิมมาใหม่
	หร
ือจะแก้ไขความผิดพลาด
นี้เอง
ส
า
หรับวิธีการตรวจสอบบิตพาริตี้อย่างง่ายจะสังเกตว่าถ้าข้อมูลเกิดการเปลี่ยนแปลงโดยที่
จ
า
นวนบิตที่ผิดพลาดเป็นจ
า
นวนคี่
	
เช่น
	
1
	
บิต
	
3
	
บิต
	
5
	
บิต
	
เป็นต้น
	
จะท
า
ให้สามารถตรวจสอบความผิดพลาด
ได้
	แต่ถ้าข้อม
ูลเกิดการเปลี่ยนแปลงโดยที่จ
า
นวนบิตที่ผิดพลาดเป็นจ
า
นวนคู่
	เ
ช่น
	2
	บ
ิต
	4
	บ
ิต
	6
	บ
ิต	
เ
ป็นต้น	ก
ารตรวจสอบด้วยวิธีนี้จะไม่พบความผิดพลาด 	เ
นื่องจากเมื่อค าน
วณบิตพาริตี้ของข้อมูลที่มีจ าน
วน
บิตที่ผิดพลาดเป็นจ
า
นวนคู่
	จะมีค่าเท่ากับบิตพาริตี้ของข้อมูลต้นฉบับ
	เ
ช่น
	สมมติข้อมูลที่ส่งมาจากสถานี
รับข้อมูลมีค่า
	“0111110”
	เมื่อค
า
นวณบิตพาริตี้แบบคู่
	บิตพาริตี้ที่ได้มีค่าเป็น
	“1”
	และสมมติข้อมูลที่สถานี
ร
ับข้อมูลได้รับมามีค่า
	“1011110”
	ซ
ึ่งจะเห็นว่ามีบิตที่ผิดพลาดเป็นจ
า
นวนคู่คือ
	2
	บ
ิต
	ค
ือบิตที่
	1
	และบ
ิตที่
	2	
เม
ื่อน
า
ข้อมูลที่ได้รับมาค
า
นวณบิตพาริตี้แบบคู่
	
บิตพาริตี้ที่ได้จะมีค่าเป็น
	
“1”
	
ซึ่งจะเห็นว่ามีค่าเดียวกันกับ
บิตพาริตี้ของข้อมูลต้นฉบับ
	ทั้งๆ
	ที่ข้อมูลมีความผิดพลาด
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-19
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
2) การตรวจสอบบ ิตพาริตี้แบบสองมิติ (Two-Dimensional Parity Check) 	วิธีนี้สามารถ
ตรวจสอบความผ
ิดพลาดได้ดีกว่าวิธีการตรวจสอบบิตพาริตี้อย่างง่าย
	
โดยการน
า
บิตของข้อมูลมาแสดงเป็น
ตาราง
	แล้วนับจ
า
นวนบิตพาริตี้ทั้งในแนวตั้งและแนวนอนเพื่อหาบิตที่ผิดพลาด
	ดังแสดงในภาพที่
	5.13
ข้อมูลก่อนการตรวจจับที่ส่งโดยสถานีส่ง
1100111
	1011101
	0111001
	0101001
ข้อมูลชุดที่
	1	
1	 1	 0	 0	 1	 1	 1	 1 
ข้อมูลชุดที่
	2	
1	 0	 1	 1	 1	 0	 1	 1 
ข้อมูลชุดที่
	3	
0	 1	 1	 1	 0	 0	 1	 0 
ข้อมูลชุดที่ 	4	 0	 1	 0	 1	 0	 0	 1	 1 
 0 1  0  1  0  1  0  1
บิตพาริตี้คู่ในแต่ละแถว
ข้อมูลที่ส่งออกไปบิตพาริตี้คู่ในแต่ละคอลัมน์
	 1100111 1	 1011101 1	 0111001 0	 0101001 1 01010101
ภาพที่ 5.13 การเพิ่มบิตพาริตี้แบบสองมิติของสถานีส่งข้อมูล
จากภาพที่ 	5.13	สมมติว่าข้อมูลที่ต้องการส่งคือ 	1100111	1011101	0111001	0101001	นาข้อมูล
แ
ต่ละชุดมาเรียงเป็นแถว 	เ
ช่น	ข
้อมูลชุดที่	1	(
แถวที่	1
)
	ค
ือ
	1
100111	
และข้อมูลชุดที่ 	2	(แ
ถวที่
	2
)
	ค
ือ
	1
011101	
เป็นต้น
	จากนั้นก็น
า
ข้อมูลที่เรียงกันเป็นแถวมาหาบิตพาริตี้แบบคู่ในแต่ละแถว
	และแต่ละคอลัมน์
	ในที่สุด
ก
็จะได้ข้อมูลพร้อมบิตพาริตี้
	
เพราะฉะนั้นข้อมูลที่ส่งออกไปในช่องสัญญาณก็คือ
	
11001111
	
10111011
	
01110010	
01010011
	01010101
วิธีนี้สามารถแบ่งตัวอย่างการตรวจสอบออกเป็น
	4
	กรณีดังนี้
1
)	เมื่อข้อมูลเกิดความผิดพลาดเพียงบิตเดียว 	จ
ากการหาบิตพาริตี้ทั้งแนวนอนและ
แนวตั้ง
	จะสามารถหาต
า
แหน่งของข้อมูลที่ผิดพลาดได้
	ดังแสดงในภาพที่
	5.14
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-20
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ข้อมูลชุดที่ 	1	 1	 1	 0	 0	 1	 1	 1	 1 	
ข้อมูลชุดที่
	2	
1	 0	 0	 1	 1	 0	 1	 0
	
ข้อมูลชุดที่
	3	
0	 1	 1	 1	 0	 0	 1	 0
	
ข้อมูลชุดที่
	4	
0	 1	 0	 1	 0	 0	 1	 1
	
	 0	
1	 1	 1	 0	 1	 0	 1
	 0	 1	 0	 1	 0	 1	 0บิตพาริตี้ที่ค
า
นวนได้
บิตพาริตี้ที่ค
า
นวนได้บิตพาริตี้ที่ส่งมาจากสถานีส่ง
1
1
0
11
บิตพาริตี้ที่ส่ง
มาจากสถานีส่ง
ภาพที่ 5.14 การตรวจสอบบิตพาริตี้แบบสองมิติกรณีข้อมูลเกิดความผิดพลาดเพียงบิตเดียว
จากภาพที่ 	5.14	เมื่อสถานีรับข้อมูลค านวณบิตพาริตี้ของข้อมูลที่ได้รับทั้งหมดในแต่ละแถว
และแต่ละคอล
ัมน์
	
และเปรียบเทียบกับบิตพาริตี้ที่ส่งมาจากสถานีส่งข้อมูล
	
(ในภาพที่
	
5.13)
	
จะพบว่า
	
แถว
ที่
	2
	ไม่ถูกต้อง
	และคอลัมน์ที่
	3
	ไม่ถูกต้อง
	ก็แสดงว่าบิตที่ผิดพลาดคือ
	บิตที่
	3
	ของข้อมูลชุดที่
	2
2
)	เมื่อจ
า
นวนบิตของข้อมูลที่ผิดพลาดเป็นจ
า
นวนคู่ในแถวเดียวกัน
	
ถึงแม้การค
า
นวณ
หาบิตพาริตี้ในแถวนั้นจะไม่สามารถตรวจสอบความผิดพลาดของข้อมูลได้
	แต่การค
า
นวณหาบิตพาริตี้ใน
แนวตั้งจะตรวจสอบได้ว่าข้อมูลเกิดผิดพลาดในส่วนใด
	ดังแสดงในภาพที่
	5.15
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-21
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ข้อมูลชุดที่ 	1	 1	 1	 0	 0	 1	 1	 1	 1 	
ข้อมูลชุดที่
	2	
1	 0	 0	 1	 0	 0	 1	 0
	
ข้อมูลชุดที่
	3	
0	 1	 1	 1	 0	 0	 1	 0
	
ข้อมูลชุดที่
	4	
0	 1	 0	 1	 0	 0	 1	 1
	
	 0	
1	 1	 1	 1	 1	 0	 1
	 0	 1	 0	 1	 0	 1	 0บิตพาริตี้ที่ค
า
นวนได้
บิตพาริตี้ที่ค
า
นวนได้บิตพาริตี้ที่ส่งมาจากสถานีส่ง
1
1
0
11
บิตพาริตี้ที่ส่ง
มาจากสถานีส่ง
ภาพที่ 5.15 การตรวจสอบบิตพาริตี้แบบสองมิติกรณีจ านวนบิตของข้อมูลที่ผิดพลาดเป็นจ านวนคู่ในแนวนอน
จากภาพที่ 	5.15 	เม ื่อค า นวณบิตพาริตี้ของข้อมูลที่ได้รับทั้งหมดในแต่ละแถวและแต่ละ  
คอลัมน์และเปรียบเทียบกับบิตพาริตี้ที่ส่งมาจากสถานีส่งข้อมูล
	(ในภาพท
ี่
	5.13)
	จะพบว่าสามารถตรวจสอบ
ความผ
ิดพลาดของข้อมูลได้
	ถ
ึงแม้ว่าจะไม่พบความผิดพลาดจากการค
า
นวณบิตพาริตี้ในแถวที่
	
2
	
เนื่องจาก
จา
นวนบิตที่ผิดพลาดเป็นจ
านว
นคู่
	แต
่เมื่อค
านว
ณบิตพาริตี้ในแต่ละคอลัมน์
	จะ
พบว่าคอลัมน์ที่
	3	แล
ะ	
คอลัมน์ที่
	5
	ของแถวที่
	2
	ไม่ถูกต้อง
	แสดงว่าบิตที่
	3
	และ
	5
	ของข้อมูลชุดที่
	2
	เกิดความผิดพลาดขึ้น
	
3
)	เมื่อเกิดข้อมูลผิดพลาดจ
า
นวน
	
3
	
บิต
	
จะมีผลท
า
ให้การค
า
นวณหาบิตพาริตี้เปลี่ยนไป
เป็น
	4
	บ
ิต
	จากการค

า
นวณหาค่าบิตพาริตี้ในแนวตั้ง
	และแนวนอน
	จะสามารถตรวจพบความผ
ิดพลาด
ของข้อมูล
	ดังแสดงในภาพที่
	5.16
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-22
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ข้อมูลชุดที่ 	1	 1	 0	 0	 0	 1	 1	 1	 0 	
ข้อมูลชุดที่
	2	
1	 0	 1	 0	 1	 0	 1	 0
	
ข้อมูลชุดที่
	3	
0	 1	 1	 0	 0	 0	 1	 1
	
ข้อมูลชุดที่
	4	
0	 1	 0	 1	 0	 0	 1	 1
	
	 0	
0	 0	 1	 0	 1	 0	 1
	 0	 1	 0	 1	 0	 1	 0บิตพาริตี้ที่ค
า
นวนได้
บิตพาริตี้ที่ค
า
นวนได้บิตพาริตี้ที่ส่งมาจากสถานีส่ง
1
1
0
11
บิตพาริตี้ที่ส่ง
มาจากสถานีส่ง
ภาพที่ 5.16 การตรวจสอบบิตพาริตี้แบบสองมิติกรณีจ านวนบิตของข้อมูลที่ผิดพลาดจ านวน 3 บิต
จากภาพที่ 	5.16 	เม ื่อค า นวณบิตพาริตี้ของข้อมูลที่ได้รับทั้งหมดในแต่ละแถวและแต่ละ  
คอลัมน์และเปรียบเทียบกับบิตพาริตี้ที่ส่งมาจากสถานีส่งข้อมูล
	(ในภาพท
ี่
	5.13)
	จะพบว่าสามารถตรวจสอบ
ความผ
ิดพลาดของข้อมูลได้
	ถ
ึงแม้ว่าจะไม่พบความผิดพลาดจากการค
า
นวณบิตพาริตี้ในคอลัมน์ที่
	4	
เนื่องจากจ
า
นวนบิตที่ผิดพลาดเป็นจ
า
นวนคู่
	แต่เมื่อค
า
นวณบิตพาริตี้ในแต่ละแถว
	จะพบว่าแถวที่
	1
	แถว
ที่
	2
	และแถวที่
	3
	ไม่ถูกต้อง
	แสดงว่าข้อมูลชุดที่
	1
	ชุดที่
	2
	และชุดที่
	3
	มีข้อมูลที่ผิดเพี้ยน
4)	
เมื่อข้อมูลเกิดผิดพลาดเป็นจ
า
นวนคู่และเกิด
	ณ
	ต
า
แหน่งเดียวกัน
	(ต
า
แหน่งของ
บิตที่ตรงกันเมื่อดูจากคอลัมน์)
	2
	ตัว
	หรือ
	4
	ตัว
	จะไม่สามารถตรวจสอบข้อมูลที่ผิดพลาดได้แต่โอกาสจะ
เกิดกรณีนี้น้อยมาก
	ดังแสดงในภาพที่
	5.17
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-23
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ข้อมูลชุดที่ 	1	 1	 1	 0	 1	 0	 1	 1	 1 	
ข้อมูลชุดที่
	2	
1	 0	 1	 1	 1	 0	 1	 1
	
ข้อมูลชุดที่
	3	
0	 1	 1	 0	 1	 0	 1	 0
	
ข้อมูลชุดที่
	4	
0	 1	 0	 1	 0	 0	 1	 1
	
	 0	
1	 0	 1	 0	 1	 0	 1
	 0	 1	 0	 1	 0	 1	 0บิตพาริตี้ที่ค
า
นวนได้
บิตพาริตี้ที่ค
า
นวนได้บิตพาริตี้ที่ส่งมาจากสถานีส่ง
1
1
0
11
บิตพาริตี้ที่ส่ง
มาจากสถานีส่ง
ภาพที่ 5.17  การตรวจสอบบิตพาริตี้แบบสองมิติกรณีข้อมูลผิดพลาดเป็นจ านวนคู่ 
 และเกิด ณ ต
า
แหน่งเดียวกัน 2 ตัว หรือ 4 ตัว
จากภาพที่ 	5.17 	สมมติว่าข้อมูลที่ได้รับมีบิตที่ผิดพลาดคือบิตที่ 	4 	และบิตที่ 	5 	ของข้อมูล
ชุดที่
	1
	และบิตที่
	4
	และบิตที่
	5
	ของข้อมูลชุดที่
	2
	ซึ่งบิตที่ผิดพลาดเกิดในต
า
แหน่งเดียวกันของข้อมูล
	2
	
ช
ุด
	
(จ
า
นวนชุดข้อมูลเป็นจ
า
นวนคู่)
	
และมีจ
า
นวนบิตที่ผิดพลาดในข้อมูลแต่ละชุดเป็นจ
า
นวนคู่เช่นเดียวกัน 	
จะเห
็นว่าเมื่อหาบิตพาริตี้ในแต่ละแถวจะไม่สามารถตรวจสอบความผิดพลาดได้
	
เพราะเมื่อพิจารณาในแถว
ที่
	1
	และแถวที่
	3
	ซึ่งแต่ละแถวมีจ
า
นวนบิตที่ผิดพลาดจ
า
นวน
	2
	บิต
	คือ
	บิตที่
	4
	และบิตที่
	5
	เหมือนกัน
	
ซ
ึ่งเป็นจ
า
นวนคู่
	และเม
ื่อหาบิตพาริตี้ในแต่ละคอลัมน์ก็ไม่สามารถตรวจสอบความผิดพลาดได้อีก
	เพราะ
เมื่อพิจารณาคอลัมน์ที่
	4
	และ
	5
	ของแถวที่
	1
	และแถวที่
	3
	จะพบว่าจ
า
นวนบิตที่ผิดพลาดเป็นจ
า
นวนคู่อีก
	
ดังนั้นจึงสรุปได้ว่าในกรณีข้อมูลที่มีจ
า
นวนบิตผิดพลาดที่เป็นจ
า
นวนคู่และเกิด
	
ณ
	
ต
า
แหน่งเดียวกัน
	
จะไม่
สามารถตรวจสอบความผิดพลาดได้
	
2.2  การตรวจสอบด้วยการหาผลรวม (Checksum) 	เ ป็นการตรวจสอบความผิดพลาดที่มี
ประสิทธิภาพสูงกว่าการตรวจสอบด้วยบิตพาริตี้
	โดยมีกระบวนการท
า
งานดังแสดงในภาพที่
	5.18
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-24
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ถาผลรวมมีคาเปน 0 หมด
แสดงวา ขอมูลถูกตองเซกเมนต 1
ขอมูล :
สถานีสงขอมูลสถานีรับขอมูล
เซกเมนต 1n บิต n บิต
n บิต
เซกเมนต 2 n บิต
เซกเมนต K
checksum
เซกเมนต K เซกเมนต 1เซกเมนต 2
คอมพลีเมนต คอมพลีเมนตn บิต
n บิต
n บิต
n บิตเซกเมนต 1 n บิต
เซกเมนต 2 n บิต
เซกเมนต K n บิต
ผลรวม n บิต
checksumchecksum
ผลรวมผลรวม n บิตn บิต
n บิต n บิต n บิต n บิต. . .
. . .. .
. .เซกเมนต 2 เซกเมนต K
ภาพที่ 5.18 กระบวนการท างานของการตรวจสอบด้วยการหาผลรวม
เริ่มจากเมื่อสถานีส่งข้อมูลต้องการส่งข้อมูลออกไป 	สถานีส่งข้อมูลมีขั้นตอนการเพิ่มบิตตรวจสอบ
เ
ข้าไปในข้อมูลดังนี้
	
1
)	แบ่งข้อมูลออกเป็นเซกเมนต์
	(segment)
	เ
ซกเมนต์ละ
	n
	บ
ิต
	โดยท
ั่วไปจะแบ่งออกเป็น  
เซกเมนต์ละ 	1
6	บ
ิต	
2)	
น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวีธีแบบวันคอมพลีเมนต์
	(one
	complement)
	
(การบวกแบบเลขฐานสอง
	ถ้ามีตัวทดเกิดขึ้นที่บิตสูงสุด
	ก็ให้น
า
ตัวทดมาบวกด้วยผลลัพธ์อีกครั้งหนึ่ง)
3)	น
า
ผลลัพธ์ที่ได้จากข้อ
	2
	มาท
า
คอมพลีเมนต์
	(เปลี่ยน
	1
	เป็น
	0
	เปลี่ยน
	0
	เป็น
	1)
4)	
ผลลัพธ์ที่ได้ในข้อ
	3
	ก็คือบิตตรวจสอบ
	ซึ่งจะต้องน
า
มาต่อท้ายข้อมูล
	แล้วส่งออกไปใน
ช่องสัญญาณ
เม
ื่อข้อมูลมาถึงสถานีรับข้อมูล
	สถาน
ีรับข้อมูลก็จะท
า
การตรวจสอบความถูกต้องของข้อมูลที่  
ได้รับมาดังนี้
	
1)	
รวบรวมข้อมูลแต่ละเซกเมนต์
	เ
ซกเมนต์ละ
	n
	บิต
2)	
น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวิธีแบบวันคอมพลีเมนต์
3)	น
า
ผลลัพธ์ที่ได้จากข้อ
	2
	มาท
า
คอมพลีเมนต์
4)	ถ้าผลลัพธ์ที่ได้ในข้อที่
	3
	เท่ากับ
	0
	แสดงว่าข้อมูลถูกต้อง
	แต่ถ้าไม่เท่ากับ
	0
	แสดงว่า
ข้อมูลผิดพลาด
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-25
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ตัวอย่างที่ 2 	ขั้นตอนการท า งานของเทคนิคการตรวจสอบด้วยการหาผลรวม 	โดยสมมติให้
สถาน
ีส่งข้อมูลต้องการส่งบิตข้อมูลจ
า
นวน
	
16
	
บิตออกไป
	
โดยมีบิตตรวจสอบ
	
8
	
บิต
	
ซึ่งข้อมูลที่ต้องการส่ง 	
คือ
	“10101001
	00111001”
วิธีทา
สถาน
ีส่งข้อมูล
1.		 แบ่งข้อมูลที่ต้องการส่งออกเป็นเซกเมนต์ 	เ ซกเมนต์ละ 	8 	บิต 	(เหตุผลที่ต้องแบ่งข้อมูล
ออกเป็น
	
เซกเมนต์ละ
	
8
	
บิต
	
เพราะว่าบิตตรวจสอบมี
	
8
	
บิต)
	
ซึ่งจะได้ทั้งหมด
	
2
	
เซกเมนต์
	
คือ
	
“10101001” 	
และ
	“00111001”
	
2.	
น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวิธีแบบวันคอมพลีเมนต์
	ดังนี้
เ
ซกเมนต์ที่
	1:
	 	10101001
เ
ซกเมนต์ที่
	2:
	 	00111001
	
ผลรวมด้วยวิธีแบบวันคอมพลีเมนต์:	 11100010
	
3.	
ผลลัพธ์ที่ได้ในข้อที่
	2
	มาท
า
คอมพลีเมนต์
	จะได้ค่าข้อมูลเป็น
	00011101
	ซึ่งจะเ
รียกค่านี้
ว่า
	เ
ช็คซัม
	(Checksum)
	เพราะฉะนั้นข้อมูลและบิตตรวจสอบที่ส่งออกไปยังช่องสัญญาณ
	คือ
	“10101001
	
00111001
	00011101”
สถานีรับข้อมูล
ในกรณีที่สถานีรับข้อมูลได้รับข้อมูลที่ไม่มีความผิดพลาด 	
สมมต
ิข้อมูลที่ได้รับมาคือข้อมูลที่ถูกต้อง
	ค
ือ
	“10101001
	00111001
	00011101”
	เม
ื่อน
า
มา
ตรวจสอบจะได้ผลดังต่อไปนี้
1.
		
น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวิธีแบบวันคอมพลีเมนต์
	ซึ่งจะได้ดังนี้
	 เ
ซกเมนต์ที่
	1:	
10101001
	 เซกเมนต์ที่
	2:	
00111001
	 บิตตรวจสอบ:	 00011101
	 ผลรวมด้วยวิธีแบบวันคอมพลีเมนต์:	 1	1	1	1	 1	 1	 1	1
2.	เมื่อน
า
ผลลัพธ์ที่ได้
	นั่นคือ
	11111111
	มาท
า
คอมพลีเมนต์
	จะได้
	00000000
	ซึ่งมีค่าเท่ากับ
	
0
	แสดงว่าข้อมูลที่ได้รับมาถูกต้อง
ในกรณีที่สถานีรับข้อมูลได้รับข้อมูลที่มีความผิดพลาด
	
สมมติข้อมูลที่ได้รับมา
	คือ
	00101001
	00111001
	00011101
	ซึ่งเป็นข้อมูลที่มีความผิดพลาด
	
โดยบิตที่ผิดพลาดคือบิตที่
	1
	และเมื่อน
า
มาตรวจสอบจะได้ผลดังต่อไปนี้
1.	น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวิธีแบบวันคอมพลีเมนต์
	ซึ่งจะได้ดังนี้
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-26
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
	 เซกเมนต์ที่ 	1:	 00101001
	 เซกเมนต์ที่
	2:	
00111001
	 บิตตรวจสอบ:	 00011101
	 ผลรวมด้วยวิธีแบบวันคอมพลีเมนต์:	 01111111
2.	เมื่อนาผ
ลลัพธ์ที่ได้ 	น
ั่นคือ	0
1111111
	ม
าทาค
อมพลีเมนต์ 	จ
ะได้
	1
0000000	ซ
ึ่งมีค่าไม่
เท่ากับ
	0
	แสดงว่าข้อมูลที่ได้รับมาไม่ถูกต้อง
2.3  ก ารตรวจสอบด้วยส่วนซ้ าซ ้อนแบบวน 	จากวิธีการตรวจสอบความผิดพลาดที่ผ่านมา 	มีข้อเสีย
ตร
งในกรณีที่เกิดบิตผิดพลาดแบบสองบิตขึ้นไป
	
จะมีโอกาสสูงที่จะไม่สามารถตรวจสอบความผิดพลาดได้ 	
ท

า
ให้ประสิทธิภาพในการตรวจสอบลดลง
	ด
ังนั้นจึงเกิดวิธีการตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวน 	 
(Cyclic
	Redundancy
	Check:
	CRC)
	ซ
ึ่งเป็นเทคนิคหนึ่งที่นิยมใช้งานบนเครือข่ายแลน
	และบนเคร
ือข่าย
อีเธอร์เน็ต
	และจัดได้ว่าเป็นวิธีที่มีประสิทธิภาพสูงกว่า
	2
	เทคนิคที่กล่าวมา
	เนื่องจากสามารถตรวจสอบ
ความผ
ิดพลาดได้ครอบคลุมและแน่นอนกว่า
	โดยเฉพาะการตรวจสอบด้วยส่วนซ
้
า
ซ้อนแบบวนชนิด
	32
	บ
ิต	
นั้นมีอัตราความแน่นอนในการตรวจสอบความผิดพลาดได้มากถึง
	99.99%
	
หลักการท
า
งานของเทคนิคนี้มีดังต่อไปนี้
	
1)	
เพิ่มบิต
	“0”
	เ
ข้าไปจ
า
นวน
	n
	ตัว
	แล้วน
า
ไปต่อท้ายรวมกับบิตข้อมูล
	โดยก
า
หนดค่าตัว
หารขึ้นมาโดยก
า
หนดให้จ
า
นวนบิตของตัวหาร
	=
	n
	+
	1
2
)	น
า
บิตข้อมูลที่เพิ่มบิต
	“0”
	เ
ข้าไปแล้วเป็นตัวตั้ง
	แล้วใ
ช้การหารแบบเลขฐานสอง
	โดย
เศษ
	(remainder)
	ที่ได้จากการหารคือบิตตรวจสอบ
3)	
น
า
บิตตรวจสอบจ
า
นวน
	n
	บิตที่ได้จากขั้นที่
	2
	มาแทนที่บิต
	“0”
	ที่อยู่ส่วนท้ายข้อมูล
4
)	สถานีส่งข้อมูลท
า
การส่งข้อมูลทั้งหมดซึ่งประกอบด้วยข้อมูลจริงต่อท้ายด้วยบิตตรวจสอบ
ออกไป
5)	เมื่อสถานีรับข้อมูลได้รับข้อมูลจะท
า
การหารข้อมูลที่ได้รับด้วยตัวหารเดียวกับตัวหารของ
สถานีส่งข้อมูล 	ถ
้าเศษที่ได้เท่ากับศูนย์ 	แ
สดงว่าข้อมูลนั้นถูกต้อง 	แ
ต่ถ้าไม่เท่ากับศูนย์แสดงว่าข้อมูลมีความ
ผิดพลาดเกิดขึ้น
	ดังแสดงในภาพที่
	5.19
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-27
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
บิตตรวจสอบตัวหาร
เศษตัวหาร บิตตรวจสอบบิตตรวจสอบ ขอมูล
ถาเศษมีคาเทากับ 0 ก็แสดงวา
ขอมูลที่ไดรับนั้นถูกตองขอมูลสถานีสงขอมูล สถานีรับขอมูล
(n + 1) บิต (n + 1) บิต
(n บิต)ขอมูล 00...0n บิต
ภาพที่ 5.19 หลักการท างานของการตรวจสอบด้วยส่วนซ้ าซ้อนแบบวน
วิธีการหาบิตตรวจสอบ
ขั้นตอนในการค านวณบิตตรวจสอบ 	มีรายละเอียดดังต่อไปนี้
1)	
เติมบิต
	“0”
	จ
า
นวน
	n
	ตัวต่อท้ายข้อมูล
	โดยที่
	n
	=
	จ
า
นวนบิตของตัวหาร
	–
	1
สมมต
ิให้ข้อมูลที่ต้องการส่งคือ
	10010
0
	และต
ัวหารคือ
	1101
	ซ
ึ่งมีความยาว
	4
	บ
ิต	
เพราะฉะนั้นจะต้องเติม
	“0”
	จ
า
นวน
	(4
	-
	1)
	บิต
	ซึ่งมีค่าเท่ากับ
	3
	บิตต่อท้ายข้อมูล
	ซึ่งจะได้ข้อมูลใหม่
คือ
	100100000
2
)	หารข้อมูลใหม่ที่ได้ในข้อที่
	1
	(100100000)
	ด้วยต
ัวหาร
	(1101)
	โดยการใ
ช้วิธีหารแบบ  
โมดูโล
	2
	(modulo
	2)
	ซ
ึ่งเป็นการหารแบบไม่มีการทดส
า
หรับการบวกและไม่มีการยืมส
า
หรับการลบ 	 
ดังนั้นการบวกลบแบบนี้ก็คือการน
า
บิตข้อมูลมา
	XOR1	กัน	ซึ่งจะได้ดังภาพที่ 	5.20
1	XOR	หมายถ ึง 	เม ื่อน า ค่าของบิตที่เหมือนกันมาบวกกันจะได้ผลลัพธ์เท่ากับ 	“0” 	และเม ื่อน า ค่าของบิตที่ต่างกันมา  
บวกกันจะได้ผลลัพธ์เท่ากับ
	‘1’	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-28
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
1   0   0   1   0   0   0   0   01 1 1 1 0 1
1   1    0   1
     1    0   0   0
1    1    0   1
     1    0   1   0++1 1 0 1 บิตที่ตอทายขอมูล
ใส 0000 เนื่องจากตัวหาร (1101)
มีคามากกวาตัวตั้ง (0110)
เศษที่ได1 1 0 1
 1 1 1 0
1    1    0   1
      0    1    1    0+
+
0  0  0  0
 1 1 0 0
1    1    0   1
     0   0    1++
ภาพที่ 5.20 การหารข้อมูล 100100000 ด้วยตัวหาร 1101 โดยการใช้วิธีหารแบบโมดูโล 2
3)	เศษที่ได้จากการหาในข้อที่ 	2 	(001) 	ซึ่งก็คือบิตตรวจสอบ 	น า ไปแทนที่บิต 	“0” 	จ า นวน 	
n
	
ตัวที่เป็นส่วนต่อท้ายข้อมูล
	
เพราะฉะนั้น
	
จะได้ข้อมูลที่พร้อมจะส่งออกไปในช่องสัญญาณคือ
	
100100001
การตรวจสอบความผิดพลาดของข้อมูล
ขั้นตอนในการตรวจสอบความผิดพลาดของข้อมูล 	มีรายละเอียดดังต่อไปนี้
1
)	สถานีรับข้อมูลน
า
ข้อมูลที่ได้รับมาจากช่องสัญญาณ
	ซ
ึ่งมีบิตตรวจสอบอยู่ตรงส่วนท้าย
ของข้อมูล
2)	หารข้อมูลในข้อที่
	
1
	
ด้วยตัวหารตัวเดียวกับที่ใช้ในขั้นตอนการหาบิตตรวจสอบของสถานี
ส่งข้อมูล
	ซึ่งจะได้ดังภาพที่
	5.21
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-29
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
1   0   0   1   0   0   0   0   11 1 1 1 0 1
1   1    0   1
     1    0   0   0
1    1    0   1
     1    0   1   0++1 1 0 1
เศษจากการหาร1 1 0 1
 1 1 1 0
1    1    0   1
      0    1    1    0+
+
0  0  0  0
 1 1 0 1
1    1    0   1
     0   0    0++
ภาพที่ 5.21 การหารข้อมูล 100100000 ด้วยตัวหาร 1101 โดยการใช้วิธีหารแบบโมดูโล 2
3)	ถ้าหารลงตัวหรือเศษจากการหารมีค่าเป็น 	“0”	ก็แสดงว่าข้อมูลนั้นถูกต้อง 	แต่ถ้าหารไม่
ลงตัวก็แสดงว่าข้อมูลที่ได้รับมานั้นมีความผิดพลาด
ส
า
หรับในกรณีที่สถานีรับข้อมูลตรวจสอบความผิดพลาด
	เ
ช่น
	เฟรมข้อมูลที่ส่งไปยังสถานี
ร
ับข้อมูล
	
รับข้อมูลที่เกิดการเปลี่ยนแปลงจ
า
นวนสองบิตด้วยกัน
	
ผลจากการหารก็จะหารไม่ลงตัว
	
นั่นหมาย
ถึงตรวจสอบพบความผิดพลาดแล้ว 	อ
ย่างไรก็ตาม 	จ
ากตัวอย่างเป็นตัวอย่างที่ใช้ตัวหาร 	(
1101)	ท
ี่มีจาน
วน
บิตเพียง
	
4	
บิต	
ซึ่งเรียกว่า 	
CRC-4
	ท
ั้งนี้เพื่อง่ายต่อการค
า
นวณ	
แต่ตามมาตรฐานสากลแล้วตัวหารจะต้อง
มีจ
า
นวนบิตมากกว่านี้
	
ปกติแล้วตัวหารจะต้องถูกแปลงให้อยู่ในรูปรหัสโพลิโนเมียล
	
อย่างเช่น
	
1101
	
สามารถ
แปลงให้อยู่ในรูปของรหัสโพลิโนเมียล
	ซ
ึ่งจะได้เป็น
	X3	+	X2	+	1	ท ั้งนี้เพื่อง่ายต่อการจดจ า	ส  า หรับ 
ตัวหารที่เป็นมาตรฐานสากลทั่วไป
	ได้แก่
CRC-16
	=
	X16	+	X15	+	X2	+	1	หรือ	11000000000000101 	
CRC-CCITT
	=
	X16	+	X12	+	X5	+	1	หรือ	10001000000100001 	
CRC-32
	=
	X32	+	X26	+	X23	+	X22	+	X16	+	X12	+	X11	+	X10	+	X8	+	X7	+	X5	+	X4	+	X2	+	X	+	1	หรือ 	
100000100110000010001110110110111
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-30
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ในการคานวณ เพื่อหาบิตตรวจสอบสามารถท า ได้โดยใช้ซอฟต์แวร์หรือฮาร์ดแวร์เป็นเครื่องมือ
ในการค
า
นวณ
	แต่ส่วนใหญ่มักนิยมใ
ช้วงจรฮาร์ดแวร์ในการค
า
นวณ
	เนื่องจากง่ายต่อการพัฒนา
	และยังมี
ต้นทุนการพัฒนาที่ต่
า
และมีความรวดเร็วสูง
	
กิจกรรม 5.1.2
1.	 ประเภทของความผิดพลาดแบ่งออกเป็นกี่ประเภท 	อะไ รบ้าง
2.	 ความผิดพลาดประเภทบิตเดียวมีลักษณะเป็นอย่างไร
3.	 ความผิดพลาดประเภทหลายบิตต่อเนื่องมีลักษณะเป็นอย่างไร4.	 จงอธิบายหลักการท
า
งานของเทคนิครีดันแดนซี
5.	 วิธีที่นิยมของเทคนิคการท
า
รีดันแดนซีมีกี่วิธี
	อะไ
รบ้าง
6.	 จงอธิบายขั้นตอนการท
า
งานของการเพิ่มบิตตรวจสอบเข้าไปในข้อมูลของการตรวจสอบด้วย
การหาผลรวม
7.	 จงอธิบายหลักการท
า
งานของการตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวน
แนวตอบกิจกรรม 5.1.2
1.	 ประเภทของความผิดพลาดสามารถแบ่งออกเป็น 	3	ประเภทโดยพิจารณาจากความผิดพลาด
ของการรับส่งกลุ่มของบิตข้อมูล
	คือ
	1)
	ความผิดพลาดประเภทบิตเดียว
	2)
	ความผิดพลาดประเภทหลาย
บิต
	และ
	3)
	ความผิดพลาดประเภทหลายบิตต่อเนื่อง
2
.	 ความผิดพลาดประเภทบิตเดียวนี้เมื่อพิจารณาจากข้อมูลที่ได้รับมาซึ่งอาจจะรับมาเป็นไบต์ 	
ตัวอักษร
	หรือเฟรมข้อมูลก็ได้
	โดยมีบิตข้อมูลเพียง
	1
	บิตที่เปลี่ยนไปจากข้อมูลที่ส่งมาจากสถานีส่งข้อมูล
	
ซึ่งอาจจะเปลี่ยนจาก
	0
	ไปเป็น
	1
	หรือ
	เปลี่ยนจาก
	1
	ไปเป็น
	0
	ก็ได้
3.	
ความผิดพลาดประเภทหลายบิตต่อเนื่องนี้
	พิจารณาจากข้อมูลที่ได้รับมาซึ่งอาจจะรับมาเป็น
ไบต์
	
ตัวอักษร
	
หรือเฟรมข้อมูลได้
	
โดยมีบิตข้อมูลมากกว่า
	
1
	
บิต
	
ซึ่งอยู่ติดกันได้เปลี่ยนไปจากข้อมูลสถานี
ส่งข้อมูล
4.	 เทคนิครีดันแดนซีมีหลักการท
า
งานคือสถานีส่งข้อมูลสร้างบิตพิเศษขึ้นเรียกว่า
	
“บิตตรวจสอบ” 	
บ
ิตตรวจสอบนี้เป็นเสมือนค่าที่ใช้ตรวจสอบความถูกต้องของข้อมูล
	
หลังจากนั้นก็เพิ่มบิตตรวจสอบต่อท้าย
ข้อมูลจริงก่อนส่งข้อมูลเข้าไปในช่องสัญญาณ
	เม
ื่อข้อมูลมาถึงสถานีรับข้อมูล
	สถาน
ีรับข้อมูลจะค
า
นวณ
ความถูกต้องของข้อมูลที่ได้รับมา
	แล้วน
า
มาเทียบกับบิตตรวจสอบที่ต่อท้ายข้อมูล
	ถ้ามีค่าเท่ากันก็แสดง
ว่าข้อมูลที่ได้รับมานั้นถูกต้อง
5.	
เทคนิคการท
า
รีดันเดนซีมีหลายวิธีด้วยกัน
	แต่ที่นิยมใ
ช้กันนั้นมี
	3
	วิธี
	คือ
1)	
การตรวจสอบด้วยบิตพาริตี้
	
2)	
การตรวจสอบด้วยการหาผลรวม
3)	การตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวน
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-31
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
6.	 ขั้นตอนการท างานของการเพิ่มบิตตรวจสอบเข้าไปในข้อมูลของการตรวจสอบด้วยการหาผลรวม 	
มีดังนี้
	
1)	
แบ่งข้อมูลออกเป็นเซกเมนต์
	เ
ซกเมนต์ละ
	n
	บิต
	
2)	
น
า
ข้อมูลของทุกเซกเมนต์มาบวกกันด้วยวีธีแบบวันคอมพลีเมนต์
3)	น
า
ผลลัพธ์ที่ได้จากข้อ
	2
	มาท
า
คอมพลีเมนต์
4)	ผลลัพธ์ที่ได้ในข้อ
	3
	ก็คือบิตตรวจสอบ
	ซึ่งจะต้องน
า
มาต่อท้ายข้อมูล
	แล้วส่งออกไปใน
ช่องสัญญาณ
7.	
หลักการท
า
งานของการตรวจสอบด้วยส่วนซ้
า
ซ้อนแบบวนมีดังนี้
1)	เพิ่มบิต
	“0”
	เ
ข้าไปจ
า
นวน
	n
	ตัว
	แล้วน
า
ไปต่อท้ายรวมกับบิตข้อมูล
	โดยก
า
หนดค่าตัว
หารขึ้นมาโดยก
า
หนดให้จ
า
นวนบิตของตัวหาร
	=
	n
	+
	1
2
)	น
า
บิตข้อมูลที่เพิ่มบิต
	“0”
	เ
ข้าไปแล้วเป็นตัวตั้ง
	แล้วใ
ช้การหารแบบเลขฐานสอง
	โดย
เศษที่ได้จากการหารคือบิตตรวจสอบ
3)	
น
า
บิตตรวจสอบจ
า
นวน
	n
	บิตที่ได้จากขั้นที่
	2
	มาแทนที่บิต
	“0”
	ที่อยู่ส่วนท้ายข้อมูล
4
)	สถานีส่งข้อมูลท
า
การส่งข้อมูลทั้งหมดซึ่งประกอบด้วยข้อมูลจริงต่อท้ายด้วยบิตตรวจสอบ
ออกไป
5)	เมื่อสถานีรับข้อมูลได้รับข้อมูลจะท
า
การหารข้อมูลที่ได้รับด้วยตัวหารเดียวกับตัวหารของ
สถานีส่งข้อมูล 	ถ
้าเศษที่ได้เท่ากับศูนย์ 	แ
สดงว่าข้อมูลนั้นถูกต้อง 	แ
ต่ถ้าไม่เท่ากับศูนย์แสดงว่าข้อมูลมีความ
ผิดพลาดเกิดขึ้น
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-32
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
เรื่องที่ 5.1.3 
การแก้ไขความผิดพลาด
การตรวจสอบความผิดพลาด 	เป็นเทคนิคที่สถานีรับข้อมูลใช้ตรวจสอบหาความผิดพลาดของข้อมูล
ท
ี่รับส่ง
	
ซึ่งเกิดจากสัญญาณรบกวนระหว่างการส่งผ่านช่องสัญญาณจากสถานีส่งข้อมูลไปยังสถานีรับข้อมูล 	
โดยท
ี่สถานีรับข้อมูลยังไม่ได้แก้ไขความผิดพลาดที่ตรวจพบ
	ส

า
หรับในเรื่องนี้จะกล่าวถึงการแก้ไขความ  
ผิดพลาด
	(Error
	Correction)
	ซ
ึ่งเป็นเทคนิคที่สถานีรับข้อมูลใช้แก้ไขความผิดพลาดที่เกิดขึ้นในข้อมูล 	
หลังจากที่ตรวจสอบพบข้อผิดพลาด
	เทคนิคการแก้ไ
ขความผิดพลาดที่จะกล่าวถึงในที่นี้มี
	2
	เทคนิคดังนี้
	 
1)
	เทคนิคการแก้ไ
ขด้วยการส่งข้อมูลใหม่
	และ
	2)
	เทคนิคการแก้ไ
ขด้วยวิธีการแก้ไขข้อผิดพลาดด้วยการ
ส่งต่อ
	
1.  เทคน ิคการแก้ไขด้วยการส่งข้อมูลใหม่ (Error Correction by Retransmission) 	เ ป็นเทคนิค
การแก้ไขความผิดพลาดที่ง่ายที่สุด
	น
ั่นก็คือเมื่อตรวจพบความผิดพลาดแล้ว
	สถาน
ีรับข้อมูลจะแจ้งไปยัง
สถานีส่งข้อมูล
	เพื่อร้องขอให้มีการส่งข้อมูลมาใหม่ทั้งชุด
2. เทคนิคการแก้ไขด้วยวิธีการแก้ไขข้อผิดพลาดด้วยการส่งต่อ (Forward Error Correction: 
FEC) เป็นเทคนิคที่สถานีรับข้อมูลใช้ในการแก้ไขความผิดพลาดอัตโนมัติ 	โดยอาศัยกลไกการเข้ารหัสแบบ
พ
ิเศษที่เรียกว่า 	ร
หัสแก้ไขความผิดพลาด 	(
Error	C
orrecting 	C
ode)	ซ
ึ่งมีความยุ่งยากและซับซ้อน 	
นอ
กจากนั้นยังต้องการจ
านว
นบิตตรวจสอบที่มากขึ้น 	
โดยสถานีส่งข้อมูลจะน
า
ข้อมูลมาเข้ารหัสข้อมูลด้วย
การใช้รหัสแก้ไขความผิดพลาดนี้
	จ
ากนั้นจึงส่งข้อความที่ถูกเข้ารหัสแล้วไปยังสถานีรับข้อมูล 	เม
ื่อสถานีรับ
ข้อมูลได้รับข้อมูลแล้วจะไม่ส่งข้อความใดๆ
	ก
ลับไปยังสถานีส่งข้อมูล 	แ
ต่สถานีรับข้อมูลต้องถอดรหัส
ข้อความที่รับมาว่ามีความคล้ายคลึงกับข้อมูลตัวไหนมากที่สุด
	
การใช้รหัสแก้ไขความผิดพลาดช่วยให้ทราบ
ถึงความผิดพลาดของข้อมูล
	
และช่วยแก้ไขข้อมูลในบิตที่ผิดพลาด
	
ซึ่งมีอยู่หลายวิธีด้วยกันและก็มีคุณสมบัติ
แตกต่างกัน
	ตัวอย่างของรหัสแก้ไ
ขความผิดพลาดที่น
า
มากล่าวในที่นี้
	คือ
	ฮัมมิ่งโค้ด
	(Hamming
	Code)
	
ซึ่งมีโครงสร้างง่ายต่อการท
า
ความเข้าใจ
ฮัมมิ่งโค้ด 
ก่อนที่จะกล่าวถึงฮัมมิ่งโค้ดจ าเป็นต้องรู้ความหมายของค าที่สาคัญก่อน	ได้แก่	โค้ดเวิร์ด	(Code-
word)
	ซึ่งเป็นค
า
ที่ใช้เรียกแทนบิตข้อมูลผสมด้วยบิตตรวจสอบ
	
ชุดรหัสส
า
หรับแก้ไขความผิดพลาดที่ง่ายที่สุดคือ
	Hamming
	single-bit
	code
	ชุดรหัสดังกล่าว
สามารถตรวจสอบความผ
ิดพลาดขนาด
	
1
	
บิตที่มีอยู่ในโค้ดเวิร์ด
	
และสามารถหาต
า
แหน่งของบิตที่เกิดความ
ผิดพลาดได้ด้วย
	
เพราะเมื่อตรวจหาต
า
แหน่งของบิตที่ผิดพลาดได้แล้ว
	
จะท
า
ให้สามารถแก้ไขข้อมูลของบิต
ที่ผิดพลาดได้ง่าย
	โดยการกล
ับบิตนั้นเพื่อให้ได้โค้ดเวิร์ดที่ถูกต้อง
	ซ
ึ่งตัวอย่างต่อไปนี้จะท
า
ให้เข้าใจการ
ท
า
งานของฮัมมิ่งโค้ดมากยิ่งขึ้น
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-33
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
การเติมบิตตรวจสอบของสถานีส่งข้อมูล
ถ้ากาหนดให้โค้ดเวิร์ดแต่ละตัว 	ประกอบด้วยรหัสแอสกี 	(ASCII) 	ของตัวอักษรขนาด 	7 	บิตและ
มีบิตตรวจสอบ
	4
	บิตแทรกอยู่ในต
า
แหน่งต่างๆ
	ภายในข้อมูลตัวอักษร
	ท
า
ให้โค้ดเวิร์ดมีความยาวเป็น
	11
	
บิต
	โดยก
า
หนดให้บิตตรวจสอบอยู่ในต
า
แหน่งที่
	20,	21,	22	และ	23	ซึ่งก็คือต า แหน่งที่ 	1, 	2, 	4, 	และ 	8 	
ตามล

า
ดับ
	เม
ื่อพิจารณาตัวอักขระ
	M
	ซ
ึ่งมีรหัสแอสกีเป็น
	100
	11012	เพราะฉะน ั้นค่าของบิตในแต่ละ
ต
า
แหน่งของโค้ดเวิร์ดเป็นดังนี้
ต
า
แหน่งที่ของบิต
		11
	10
	9
	8
	7
	6
	5
	4
	3
	2
	1
	 ค่าในแต่ละบิต
		
1
		
0
		
0	 x
		
1
		
1
		
0
		
x
		
1
		
x
		
x
ต
า
แหน่งของบิตที่แสดงด้วย
	
x
	
เป็นต
า
แหน่งของบิตตรวจสอบซึ่งค่าของ
	
x
	
ค
า
นวณจากการใช้เลข
ฐานสองของต
า
แหน่งของบิตข้อมูลที่มีค่าเป็น
	1
	มา
	XOR
	กัน
	จากตัวอย่างนี้
	ต
า
แหน่งของบิตที่มีค่าเป็น
	
1
	ค
ือ
	
ต
า
แหน่งที่
	
11,	
7,
	6,	
และ	3
	แล
ะเมื่อน
าเล
ขฐานสองของต า
แหน่งของบิตเหล่านี้มา
	XO
R
	จ
ะได้ผลลัพธ์
ดังนี้คือ
	
	 11	
=
		
1
		
0
		
1
		
1
		 7	
=	 0
		
1
		
1
		
1
		 6	
=	 0
		
1
		
1		0
		 3	
=	 0
		
0
		
1
		
1
ผลลัพธ์จาก
	XOR
	=
	1
	0
	0
	1
ผลลัพธ์ที่ได้คือบิตตรวจสอบที่จะใส่ลงแทนต
า
แหน่ง
	x
	ในโค้ดเ
วิร์ด
	ซึ่งจะได้ดังนี้
11
	10
	9
	8
	7
	6
	5
	4
	3
	2
	1
	
	 1	
	0	
	0	
	1	
	1	
	1	
	0	
	0	
	1	
	0	
	1
เพราะฉะนั้น
	10011100101
	คือ
	โค้ดเ
วิร์ดที่สถานีส่งข้อมูลส่งออกไปให้สถานีรับข้อมูล
การตรวจสอบความถูกต้องของข้อมูลของสถานีรับข้อมูล
เมื่อสถานีรับข้อมูลได้รับโค้ดเวิร์ดนี้แล้วจะน าเลขฐานสองของต าแหน่งของบิตที่มีค่าเป็น 	1 	ใน 
โค้ดเ
วิร์ดมา
	XOR
	กัน
	ถ้าผลลัพธ์ที่ค
า
นวณได้มีค่าเป็นศูนย์
	แสดงว่าไม่มีความผิดพลาดใดเกิดขึ้น
	แต่ถ้า
ผลลัพธ์ที่ค
า
นวณได้ไม่เท่ากับศูนย์
	แสดงว่าข้อมูลที่ได้รับมานั้นไม่ถูกต้อง
กรณีที่ข้อมูลที่ได้รับมาถูกต้อง
	
สมมติ
	ข้อมูลที่ได้รับมา
	คือ
	10011100101
ข้อม
ูล
	10011100101
	จะเห
็นว่าต
า
แหน่งของบิตที่มีค่าเป็น
	1
	ได้แก่
	ต

า
แหน่งที่
	11,
	8,
	7,
	6,
	3,
	และ
	1
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-34
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
	 11	 =	 1 		 0 		 1 		 1 	
	 8	
=	 1
		
0
		
0
		
0
		 7	
=	 0
		
1
		
1
		
1
		 6	
=	 0
		
1
		
1
		
0
		 3	
=	 0
		
0
		
1
		
1
		 1	
=	 0
		
0
		
0
		
1
ผลลัพธ์จาก
	XOR
	=
	0
	0
	0
	0
	ซึ่งแสดงว่าข้อมูลถูกต้อง
กรณีที่ข้อมูลที่ได้รับมาไม่ถูกต้อง
	
สมมติ
	ข้อมูลที่ได้รับมา
	คือ
	00011100101
	ซึ่งจะเห็นว่า
	บิตที่
	11
	เปลี่ยนจาก
	1
	เป็น
	0
	ท
า
ให้สถานี
รับข้อมูลได้รับโค้ดเวิร์ดเป็น
	00011100101
	ซึ่งท
า
ให้ต
า
แหน่งของบิตที่มีค่าเป็น
	1
	คือ
	ต
า
แหน่งที่
	8,
	7,
	6,
	
3,
	และ
	1
		 8	
=	 1
		
0
		
0
		
0
		 7	
=	 0
		
1
		
1
		
1
		 6	
=	 0
		
1
		
1
		
0
		 3	
=	 0
		
0
		
1
		
1
		 1	
=	 0
		
0
		
0
		
1
ผลลัพธ์จาก
	XOR
	=
	1
	0
	1
	1
	ซึ่งแสดงว่าข้อมูลมีความผิดพลาด
จะเห
็นว่าผลลัพธ์ที่ค
า
นวณได้มีค่าไม่เท่ากับศูนย์
	
แสดงว่าข้อมูลที่ได้รับมีความผิดพลาด
	
และ
บิตที่ผิดพลาดอยู่ที่บิตที่
	11
	เพราะว่าผลลัพธ์มีค่าเท่ากับ
	11
	ท
า
ให้สถานีรับข้อมูลต้องกลับบิตที่
	11	
จาก
	0
	เป็น
	1
ตัวอย่างที่ 3 	ถ้ากาหนดให้โค้ดเวิร์ดประกอบด้วยรหัสแอสกีของตัวอักษรขนาด 	7 	บ ิตและ
บิตตรวจสอบ
	4
	บ
ิตแทรกอยู่ในต
า
แหน่งต่างๆ
	ภายในข้อม
ูลตัวอักษร
	โดยก

า
หนดให้บิตตรวจสอบอยู่ใน
ต
า
แหน่งที่
	20,	21,	22	และ	23	จงหาโค้ดเ วิร์ดของตัวอักษร 	“d” 	ท ี่สถานีส่งข้อมูลส่งไปให้สถานีรับ 	รวมท ั้ง
อธิบายวิธีการตรวจสอบความถูกต้องของข้อมูลของสถานีรับข้อมูล
วิธีทา
สถานีส่งข้อมูล
เมื่อพิจารณาตัวอักขระ
	“d”
	ซึ่งมีรหัสแอสกีเป็น
	110
	0100
	เพราะฉะนั้นค่าของบิตในแต่ละ
ต
า
แหน่งของโค้ดเวิร์ดเป็นดังนี้
ต
า
แหน่งที่ของบิต
	 	11
	10
	9
	8
	7
	6
	5
	4
	3
	2
	1
	 ค่าในแต่ละบิต
		
1
		
1
		
0
		
x
		
0
		
1
		
0
		
x
		
0
		
x
		
x
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-35
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ตาแหน่งของบิตที่แสดงด้วย 	x 	เป็นต า แหน่งของบิตตรวจสอบ 	เพราะฉะนั้น 	ต า แหน่งของ
บิตที่มีค่าเป็น
	
1
	
คือ
	
ต
า
แหน่งที่
	
11,
	
10,
	
และ
	
6
	
และเมื่อน
า
เลขฐานสองของต
า
แหน่งของบิตเหล่านี้มา
	
XOR	
จะได้ผลลัพธ์ดังนี้คือ
	
	 11	
=
		
1
		
0
		
1
		
1
	 10	 =	 1
		
0
		
1
		
0
	 6	 =	 0
		
1
		
1
		
0
ผลลัพธ์จาก
	XOR
	=
	0
	1
	1
	1
ผลลัพธ์ที่ได้คือบิตตรวจสอบที่จะใส่ลงแทนต
า
แหน่ง
	x
	ในโค้ดเ
วิร์ด
	ซึ่งจะได้ดังนี้
ต
า
แหน่งที่ของบิต
	 	11
	10
	9
	8
	7
	6
	5
	4
	3
	2
	1
	 ค่าในแต่ละบิต
		
1
		
1
		
0
		
0
		
0
		
1
		
0
		
1
		
0
		
1
		
1
เพราะฉะนั้นโค้ดเวิร์ดที่สถานีส่งข้อมูลส่งไปยังสถานีรับข้อมูลคือ
	11000101011
	
สถานีรับข้อมูล
เม
ื่อสถานีรับข้อมูลได้รับโค้ดเวิร์ดนี้แล้วจะน
า
เลขฐานสองของต
า
แหน่งของบิตที่มีค่าเป็น
	1	
ในโค้ดเ
วิร์ดมา
	XOR
	กัน
	ถ้าผลลัพธ์ที่ค
า
นวณได้มีค่าเป็นศูนย์
	แสดงว่าไม่มีความผิดพลาดใดเกิดขึ้น
	แต่
ถ้าไม่เท่ากับศูนย์แสดงว่าข้อมูลนั้นมีความผิดพลาด
กรณีที่ข้อมูลที่ได้รับมาถูกต้องสมมติว่าข้อมูลที่ได้รับมานั้นคือ
	11000101011
จากข้อมูลที่ได้รับ
	จะเห็นว่าต
า
แหน่งของบิตที่มีค่าเป็น
	1
	ได้แก่
	ต
า
แหน่งที่
	1,
	2,
	4,
	6,
	10
	
และ
	11
	 11	
=	 1
		
0
		
1
		
1
	
	 10	
=	 1
		
0
		
1
		
0
		 6	
=	 0
		
1
		
1
		
0
		 4	
=	 0
		
1
		
0
		
0
	 	2	
=	 0
		
0
		
1
		
0
		 1	
=	 0
		
0
		
0
		
1
ผลลัพธ์จาก
	XOR
	=
	0
	0
	0
	0
	ซึ่งแสดงว่าข้อมูลถูกต้อง
กรณีที่ข้อมูลที่ได้รับมาไม่ถูกต้องส
มมติว่าข้อมูลที่ได้รับมานั้นคือ 	1
1100101011 	ซ
ึ่งเป็นข้อมูลที่ไม่ถูกต้อง 	โ
ดยบิตที่	9	ถ
ูกเปลี่ยน
จาก
	0
	เป็น
	1
	
จากข้อมูลที่ได้รับจะเห็นว่าต
า
แหน่งของบิตที่มีค่าเป็น
	1
	ได้แก่
	ต
า
แหน่งที่
	1,
	2,
	4,
	6,
	9,
	10
	
และ
	11
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-36
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
	 11	 =	 1 		 0 		 1 		 1 	
	
10	 =	 1
		
0
		
1
		
0
	
	
9	 =	 1
		
0
		
0
		
1
		
6	 =	 0
		
1
		
1
		
0
		
4	 =	 0
		
1
		
0
		
0
		
2	 =	 0
		
0
		
1
		
0
		
1	 =	 0
		
0
		
0
		
1
ผลลัพธ์จาก
	XOR
	=
	1
	0
	0
	1
	ซึ่งแสดงว่าข้อมูลมีความผิดพลาด
จะเห
็นว่าผลลัพธ์ที่ค
า
นวณได้มีค่าไม่เท่ากับศูนย์
	
แสดงว่าข้อมูลที่ได้รับมีความผิดพลาด
	
และ
บิตที่ผิดพลาดอยู่ที่บิตที่
	9
	เพราะว่า
	1001
	มีค่าเท่ากับ
	9
	นั่นเอง
ในกรณ
ีที่มีความผิดพลาดเกิดขึ้น
	2
	บ
ิต
	ผลล
ัพธ์ที่ค
า
นวณได้มีค่าไม่เป็นศูนย์
	แสดงว่าม
ี
ความผิดพลาดเกิดขึ้น
	
อย่างไรก็ตาม
	
เนื่องจากผลลัพธ์ที่ได้จะไม่ใช่ต
า
แหน่งของบิตที่ผิดพลาดในโค้ดเวิร์ด
จึงไม่อาจแก้ไขข้อมูลที่ผิดพลาดให้ถูกต้องได้
โดยทั่วไปในระบบเครือข่ายสัญญาณรบกวนมีลักษณะเป็นกลุ่มของสัญญาณ
	
การใช้ฮัมมิ่งโค้ด
ในการแก้ไขข้อมูลที่มีความผิดพลาดจึงไม่เหมาะสม 	เ
พราะฮัมมิงโค้ดเหมาะกับการแก้ไขข้อผิดพลาดเพียง
บิตเดียวเท่านั้น
	
แต่สามารถน
า
มาใช้เป็นวิธีพื้นฐานเพื่อดัดแปลงเป็นวิธีที่ดีกว่าได้
	
ตัวอย่างเช่น
	
หากต้องการ
ส่งข้อมูลที่เป็นข้อความโดยสมมติให้ข้อความประกอบด้วยตัวอักษร
	8
	ต
ัวโดยท
า
ให้ข้อมูลผิดพลาดถึง
	7	
บิตต่อเนื่องกัน
	วิธีการน
า
รหัสแอสกีของตัวอักษรแต่ละตัวในข้อความมาเข้ารหัสแบบฮัมมิ่งโค้ด
	จะได้โค้ด
เ
วิร์ดที่มีขนาด
	11
	บิต
	(รหัสแอสกีของตัวอักษรขนาด
	7
	บิตและบิตตรวจสอบอีก
	4
	บิต)
	จ
า
นวน
	8
	ชุด
	
แทนท
ี่สถานีส่งข้อมูลจะส่งโค้ดเวิร์ดเหล่านี้ไปตามล
า
ดับ
	สถาน
ีส่งข้อมูลจะท
า
การส่งคอลัมน์แรกของทุก  
โค้ดเวิร์ดไปยังสถานีรับข้อมูล
	ตามด้วยคอลัมน์ถัดไปจนหมดข้อมูล
	สถานีรับข้อมูลจะต้องรอจนกว่าจะได้
ร
ับข้อมูลครบทั้งชุด
	แล้วน

า
มารวมกันเข้าเป็นโค้ดเวิร์ด
	8
	ช
ุดเหมือนกับข้อมูลที่ส่งมาจากสถานีส่งข้อมูล 	
จากน
ั้นจะท
า
การตรวจสอบและแก้ไขข้อมูลในแต่ละโค้ดเวิร์ด
	ในกรณ
ีนี้หากมีสัญญาณรบกวนเกิดขึ้นซึ่งมี
ผลท
า
ให้ข้อมูลชุดใดชุดหนึ่งที่ส่งไปผิดพลาด
	ซึ่งเท่ากับข้อมูลผิดพลาดไป
	1
	บิต
	ส
า
หรับโค้ดเวิร์ดแต่ละตัว
	
ซึ่งยังสามารถแก้ไ
ขข้อมูลให้ถูกต้องได้
กิจกรรม 5.1.4
1.	 จงอธิบายความแตกต่างระหว่างการตรวจสอบความผิดพลาดและการแก้ไขความผิดพลาด
2.	 เทคนิคการแก้ไขความผิดพลาดมีกี่เทคนิค
	อะไ
รบ้าง
3.	 จงอธิบายหลักการท
า
งานของเทคนิคการแก้ไขด้วยการส่งข้อมูลใหม่
4.	 จงอธิบายหลักการท
า
งานของเทคนิคการแก้ไขด้วยวิธี
	Forward
	Error
	Correction
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-37
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
แนวตอบกิจกรรม 5.1.4
1.	 การตรวจสอบความผิดพลาดเป็นเทคนิคที่สถานีรับข้อมูลใช้เพื่อตรวจสอบหาความผิดพลาด
ของข้อมูลที่รับมาจากสถานีส่งซึ่งเกิดจากสัญญาณรบกวนระหว่างการส่งผ่านช่องสัญญาณ
	
โดยที่สถานีรับ
ข้อมูลยังไม่ได้แก้ไขความผิดพลาดที่ตรวจพบ
	แต่การแก้ไ
ขความผิดพลาดเป็นเทคนิคที่สถานีรับข้อมูลใช้
แก้ไขความผิดพลาดที่เกิดขึ้นในข้อมูลหลังจากที่ตรวจสอบพบข้อผิดพลาด
2.	 เทคนิคการแก้ไขความผิดพลาดมี
	2
	เทคนิค
	คือ
1)	
เทคนิคการแก้ไขด้วยการส่งข้อมูลใหม่
2)	เทคนิคการแก้ไขด้วยวิธี
	Forward
	Error
	Correction
3
.	 เทคนิคการแก้ไขด้วยการส่งข้อมูลใหม่มีหลักการท
า
งานคือ
	
เมื่อสถานีรับข้อมูลตรวจพบความ
ผิดพลาดแล้ว
	
สถานีรับข้อมูลจะส่งสัญญาณแจ้งไปยังสถานีส่งข้อมูล
	
เพื่อร้องขอให้มีการส่งข้อมูลที่ผิดพลาด
มาใหม่ทั้งชุด
4.	 เทคนิคการแก้ไขด้วยวิธี
	Forward
	Error
	Correction
	มีหลักการท
า
งานของ
	คือ
	สถานีส่ง
ข้อมูลจะน
า
ข้อมูลมาเข้ารหัสข้อมูลด้วยการใช้รหัสแก้ไขความผิดพลาด
	จากนั้นจึงส่งข้อความที่ถูกเ
ข้ารหัส
แล้วไปยังสถานีรับข้อมูล
	
เมื่อสถานีรับข้อมูลได้รับข้อมูลแล้วจะไม่ส่งข้อความใดๆ
	
กลับไปยังสถานีส่งข้อมูล 	
แต่สถาน
ีรับข้อมูลจะต้องถอดรหัสข้อความที่รับมาว่ามีความคล้ายคลึงกับข้อมูลตัวไหนมากที่สุด
	
การใช้รหัส
แก้ไขความผิดพลาดช่วยให้ทราบถึงความผิดพลาดของข้อมูล
	และช่วยแก้ไ
ขข้อมูลในบิตที่ผิดพลาดได้
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-38
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ตอนที่ 5.2 
การควบคุมการไหลของข้อมูล
โปรดอ่านหัวเรื่อง 	แนวคิด 	และวัตถุประสงค์ของตอนที่ 	5.2 	แล้วจึงศึกษารายละเอียดต่อไป
หัวเรื่อง
5.2.1		 กฎเกณฑ์และข้อตกลงการควบคุมการใช้ช่องสัญญาณ5.2.2
		
การควบคุมการไหลของข้อมูล
5.2.3
		
การควบคุมข้อผิดพลาด
แนวคิด
1.			ก่อนเ ริ่มการรับส่งข้อมูลสถานีส่งข้อมูลและสถานีรับข้อมูลจะต้องสร้างกฎเกณฑ์และ  
ข้อตกลงร่วมกันเพื่อใช้ในการควบคุมการใช้ช่องสัญญาณ
	โดยต้องตกลงก
ันก่อนว่าสถานีใด
เป็นสถานีส่งข้อมูล
	สถาน
ีใดเป็นสถานีรับข้อมูล
	และม
ีการก
า
หนดช่วงเวลาที่สถานีส่ง
ข้อมูลสามารถส่งข้อมูลไปให้สถานีรับข้อมูล
	โดยทั่วๆ
	ไปกฎเกณฑ์ดังกล่าวจะแบ่งออก
เป็น
	2
	แบบ
	คือ
	1)
	เอ็นไควรี่/แอ็คโนเลจเม้นต์
	ซึ่งใ
ช้ในการติดต่อสื่อสารแบบเพียร์ทู
เพียร์และ
	2)
	โพล/ซีเล็ค
	ซึ่งใ
ช้ในการติดต่อสื่อสารแบบไคล์เอนต์/เซิร์ฟเวอร์
2.			การค
วบคุมการไหลของข้อมูลเป็นวิธีการที่สถานีรับข้อมูลใช้ในการแจ้งสถานีส่งข้อมูล
เกี่ยวกับปริมาณข้อมูลที่สามารถส่งไปยังสถานีรับข้อมูล
	โดยม
ีวัตถุประสงค์เพื่อไม่ให้
สถานีรับข้อมูลได้รับข้อมูลมากเกินกว่าหน่วยเก็บข้อมูลชั่วคราวของสถานีรับข้อมูลจะรับได้ 	
ซ
ึ่งอาจเกิดมาจากความแตกต่างทางด้านประสิทธิภาพและความเร็วของอุปกรณ์ทาง
สถานีรับข้อมูลและสถานีส่งข้อมูล
3.			การควบค
ุมข้อผิดพลาดเป็นวิธีการของสถานีรับข้อมูลในการตรวจสอบเฟรมข้อมูลที่ได้รับ
และทาก
ารควบคุมข้อผิดพลาดที่อาจจะเกิดขึ้นในระหว่างการแลกเปลี่ยนข้อมูล 	ซ
ึ่ง
สามารถท
า
ได้โดยสถานีรับข้อมูลส่งสัญญาณให้สถานีส่งข้อมูลเพื่อท
า
การส่งข้อมูลที่ไม่
สมบูรณ์มาใหม่
	
หรือสถานีรับข้อมูลท
า
การแก้ไขข้อผิดพลาดเอง
	
หรือสถานีรับข้อมูลอาจ
จะไม่ด
า
เนินการใดๆ
	เลยก็ได้
วัตถุประสงค์
เมื่อศึกษาตอนที่ 	5.2 	จบแล้ว 	นักศึกษาสามารถ
1
.		
อธิบายขั้นตอนการท
า
งานของกฎเกณฑ์และข้อตกลงการควบคุมการใช้ช่องสัญญาณได้
2.
		
อธิบายเทคนิคการควบคุมการไหลของข้อมูลได้
3.
		
อธิบายเทคนิคการควบคุมข้อผิดพลาดได้
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-39
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
เรื่องที่ 5.2.1 
กฎเกณฑ์และข้อตกลงการควบคุมการใช้ช่องสัญญาณ
ในการสื่อสารข้อมูลระหว่างเครื่องคอมพิวเตอร์มากกว่า 	2	เครื่องขึ้นไปนั้น 	ก่อนเริ่มการแลกเปลี่ยน
ข้อม
ูล
	ต้องม
ีการก
า
หนดกฎเกณฑ์หรือข้อตกลงก่อนเพื่อก
า
หนดว่า
	ณ
	เ
วลาใดเวลาหนึ่ง
	สถาน
ีใดจะท
า
หน้าท
ี่ในการส่งข้อมูล
	และสถาน
ีใดจะท
า
หน้าที่เป็นสถานีรับข้อมูล
	ท
ั้งนี้เพื่อป้องกันไม่ให้เกิดการชนกัน
ของข้อมูลในช่องสัญญาณ
	
และยังสามารถควบคุมการใช้ช่องสัญญาณซึ่งมีจ
า
นวนจ
า
กัดให้เกิดประสิทธิภาพ
มากที่สุด
	กฎเกณฑ์และข้อตกลงการควบคุมการใ
ช้ช่องสัญญาณในการสื่อสารข้อมูลแบ่งออกได้เป็น
	2
	วิธี
	
คือ
	1)
	เอ็นไควรี่/แอ็คโนเลจเม้นต์
	และ
	2)
	โพล/ซีเล็ค
	
1.  เอ ็นไควรี่/แอ็คโนเลจเม้นต์ (Enquiry/Acknowledgement: ENQ/ACK) 	เป็นวิธีการควบคุม
การใ
ช้ช่องสัญญาณในกรณีที่สถานีส่งข้อมูลและสถานีรับข้อมูลมีการเชื่อมต่อกันแบบเพียร์ทูเพียร์
	โดยไม่
สนใ
จว่าสัญญาณข้อมูลที่ส่งออกไปจะไปถึงสถานีรับข้อมูลผิดสถานีหรือไม่
	
ก่อนที่จะเริ่มการรับส่งข้อมูลวิธี
การนี้จะมีการตรวจสอบก่อนว่าเครื่องคอมพิวเตอร์เครื่องใดท
า
หน้าที่เป็นสถานีส่งข้อมูล
	และเคร
ื่อง
คอมพิวเตอร์เครื่องใดเป็นท
า
หน้าที่เป็นสถานีรับข้อมูล
	และช่วงการท

า
งานของวิธีเอ็นไควรี่/แอ็คโนเลจเม้นต์ 	
แบ่งเป็น
	3
	ช่วง
	ดังแสดงในภาพที่
	5.22
	โดยมีรายละเอียดดังต่อไปนี้
	
ช่วงสร้าง
การเชื่อมต่อ
ช่วงของ
การส่งข้อมูล
ช่วงสิ้นสุด
การเชื่อมต่อENQ
ACK
ข้อมูล
ACK
ข้อมูล
ACK
EOTสถานี
ส่งข้อมูลสถานี
รับข้อมูล
เวลา	 เวลา
ภาพที่ 5.22 ขั้นตอนการท างานของวิธีเอ็นไควรี่/แอ็คโนเลจเม้นต์
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-40
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
1.1		 ช่วงการสร้างการเชื่อมต่อ 	 เป็นช่วงส า หรับการตรวจสอบความพร้อมของสถานีรับข้อมูล
ว่าพร้อมที่จะรับข้อมูลหรือไม่
	
1.2
		
ช่วงการส่งข้อมูล
	เป็นช่วงของการส่งเฟรมข้อมูลให้สถานีรับข้อมูล
1
.3		
ช่วงสิ้นสุดการเชื่อมต่อ 	เ
ป็นช่วงที่สถานีส่งข้อมูลส่งสัญญาณไปแจ้งสถานีรับข้อมูลว่า
ต้องการสิ้นสุดการส่งข้อมูลในกรณีที่สถานีส่งข้อมูลหมดข้อมูลที่ต้องการจะส่งไปให้สถานีรับข้อมูลแล้ว
	
ส

า
หรับขั้นตอนการท
า
งานของวิธีเอ็นไควรี่/แอ็คโนเลจเม้นต์
	ด
ังภาพ
	5.22
	ม
ีรายละเอียดดังต่อไปนี้
1)	สถานีส่งข้อมูลส่งเฟรมที่เรียกว่า
	Enquiry
	(ENQ)
	ออกไปเพื่อสอบถามสถานีรับข้อมูล
ว่าพร้อมที่จะรับข้อมูลหรือไม่
	
2
)	ถ้าสถานีรับข้อมูลพร้อมที่จะรับข้อมูล
	
ก็ส่งเฟรมที่เรียกว่า
	
Acknowledgement
	
(ACK)	
กลับไปยังสถานีส่งข้อมูลแต่ถ้าสถานีรับข้อมูลไม่พร้อมที่จะรับข้อม
ูล
	ก็ส่งเฟรมที่เ
รียกว่า
	Negative
	Ac
-
knowledgement 	(
NAK)	ก
ลับไปยังสถานีส่งข้อมูล 	ใ
นกรณีที่สถานีส่งข้อมูลไม่ได้รับเฟรมตอบกลับ 	(
อาจ
จะเป็น
	ACK
	หรือ
	NAK)
	จากสถานีรับข้อมูลภายในเ
วลาที่ก
า
หนด
	แสดงว่าเฟรมตอบกลับอาจสูญหาย
ไปในระหว่างการส่ง
	
สถานีส่งข้อมูลจะส่งเฟรม
	
ENQ
	
ไปสอบถามสถานีรับข้อมูลอีกครั้ง
	
ถ้าสถานีส่งข้อมูล
ยังไม่ได้รับเฟรมตอบกลับจากสถานีรับข้อมูล
	
สถานีส่งข้อมูลก็จะหยุดการส่งเฟรม
	
ENQ
	
แล้วรอเวลาระยะ
เวลาหนึ่งจึงเริ่มส่งเฟรม
	ENQ
	ไปสอบถามสถานีรับข้อมูลใหม่อีกครั้ง
3
)	เมื่อสถานีส่งข้อมูลได้รับเฟรมตอบกลับมาจากสถานีรับข้อมูลแล้ว 	โ
ดยถ้าเฟรมตอบกลับ
จากสถานีรับข้อมูลเป็นเฟรม 	A
CK	ส
ถานีส่งข้อมูลก็เริ่มส่งเฟรมข้อมูลทั้งหมดให้ 	แ
ละเมื่อหมดเฟรมข้อมูล
ที่ต้องการส่งแล้ว
	สถาน
ีส่งข้อมูลก็ส่งเฟรม
	EOT
	(End
	of
	T
ransmission)
	เพ
ื่อแจ้งสถานีรับข้อมูลให้
ทราบว่าหมดข้อมูลที่ต้องการจะส่งแล้ว
	
แต่ถ้าเฟรมตอบกลับจากสถานีรับข้อมูลเป็นเฟรม
	
NAK
	
สถานีส่ง
ข้อมูลก็จะส่งเฟรม
	ENQ
	ไปสอบถามอีกครั้ง
	และหากสถานีส่งข้อมูลส่งเฟรม
	NAK
	กลับมาอีก
	สถานีส่ง
ข้อมูลก็จะหยุดการส่งข้อมูลแล้วรอเ
วลาระยะเวลาหนึ่งจึงเริ่มต้นส่งเฟรม
	ENQ
	ใหม่ในครั้งต่อไป
2.  โพล/ซ ีเล็ค (Poll/Select) 	เป็นวิธีการควบคุมการใช้ช่องสัญญาณอีกวิธีหนึ่งโดยมีวัตถุประสงค์
เพ
ื่อใช้ในระบบเครือข่ายที่มีการเชื่อมต่อของคอมพิวเตอร์มากกว่า
	1
	เคร
ื่อง
	โดยก

า
หนดให้มีเครื่อง
คอมพิวเตอร์หลัก
	(Primary)
	หนึ่งเครื่อง
	และเครื่องคอมพิวเตอร์รอง
	(Secondary)
	ซึ่งอาจจะมีกี่เครื่อง
ก็ได้
	
โดยที่คอมพิวเตอร์หลักจะท
า
หน้าที่เป็นสถานีควบคุมการใช้งานช่องสัญญาณในการรับส่งข้อมูล
	
เพื่อ
ที่จะรับประกันว่า
	
ณ
	
เวลาใดเวลาหนึ่งจะมีข้อมูลเพียงหนึ่งชุดเท่านั้นที่อยู่ในช่องสัญญาณ
	
มิฉะนั้นแล้วหาก
มีข้อมูลหลายชุดอยู่ในช่องสัญญาณช่วงเดียวกันอาจจะเกิดการชนกันของข้อมูลได้
	ด
ังนั้นการรับส่งข้อมูล
ของคอมพิวเตอร์รองจะขึ้นอยู่กับการตัดสินใจของคอมพิวเตอร์หลัก 	โ
ดยที่คอมพิวเตอร์หลักสามารถเป็น
ได้ทั้งสถานีส่งข้อมูลและสถานีรับข้อมูล
	
ในกรณ
ีที่คอมพิวเตอร์หลักต้องการจะเป็นสถานีรับข้อมูล
	คอมพ
ิวเตอร์หลักก็จะท
า
การสอบถาม
คอมพิวเตอร์รองโดยการส่งเฟรมที่เรียกว่า
	POLL
	ไปให้คอมพิวเตอร์รองแต่ละเครื่องว่าเครื่องใดต้องการ
ท
ี่จะท
า
การส่งข้อมูล
	ซ
ึ่งเรียกวิธีนี้ว่า
	โพล
	(Poll)
	แต่ถ้าคอมพ
ิวเตอร์หลักต้องการจะเป็นสถานีส่งข้อมูล 	
คอมพ
ิวเตอร์หลักก็จะท
า
การเลือกคอมพิวเตอร์รองที่ต้องการจะส่งข้อมูลไปให้โดยการส่งเฟรม
	SEL	 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-41
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
(Select)	ไปยังคอมพิวเตอร์รองเครื่องนั้นเพื่อให้เตรียมตัวในการเป็นสถานีรับข้อมูล 	ซึ่งเรียกวิธีนี้ว่า 	ซีเล็ค	
(Select)
2.1  หลักการท า งานของโพล 	เป็นวิธีการที่คอมพิวเตอร์หลักส่งข้อความไปถามคอมพิวเตอร์
รองว่าต้องการจะส่งข้อม
ูลหรือไม่
	โดยท
ี่คอมพิวเตอร์รองจะไม่มีสิทธิส่งข้อมูลถ้าไม่ได้รับอนุญาตจาก
คอมพิวเตอร์หลัก
	ท
า
ให้คอมพิวเตอร์รองทั้งหมดถูกควบคุมโดยคอมพิวเตอร์หลัก
	เพื่อรับประกันว่าจะส่ง
ข้อมูลได้ถูกต้องและตรงเ
วลา
	ส
า
หรับขั้นตอนการท
า
งานของโพลในภาพที่
	5.23
	มีรายละเอียดดังต่อไปนี้
	 คอมพิวเตอร์	 คอมพิวเตอร์	 คอมพิวเตอร์	 คอมพิวเตอร์
	 หลัก	 รอง
	#
	1	
รอง
	#
	2	
รอง
	#
	3
เ
วลา	 เวลาPOLL
NAK
POLL
NAK
POLL
ข้อมูล
NAK
ภาพที่ 5.23 ขั้นตอนการท างานของโพล
1)	เมื่อคอมพิวเตอร์หลักพร้อมที่จะรับข้อมูล 	ก ็ส่งเฟรม	P OLL	อ อกไปถาม
คอมพิวเตอร์รองเครื่องที่
	1
	ว่ามีข้อมูลที่ต้องการจะส่งหรือไม่
	
2)	
ถ้าคอมพิวเตอร์รองเครื่องที่
	1
	ไม่มีข้อมูลที่ต้องการจะส่งคอมพิวเตอร์รองเครื่องที่
	
1
	
ก็จะส่งเฟรม
	
NAK
	
กลับไปแจ้งคอมพิวเตอร์หลัก
	
จากนั้นคอมพิวเตอร์หลักก็จะส่งเฟรม
	
POLL
	
ออกไป
ถามคอมพิวเตอร์รองเครื่องที่
	2
	และคอมพิวเตอร์เครื่องต่อไปเ
รื่อยๆ
	จนกว่าจะมีคอมพิวเตอร์เครื่องรองที่
ม
ีข้อมูลจะส่งให้ 	ถ
้าคอมพิวเตอร์รองมีข้อมูลจะส่งก็ส่งเฟรมข้อมูลกลับไปให้คอมพิวเตอร์หลัก 	เ
มื่อ
คอมพิวเตอร์หลักได้รับข้อมูลเรียบร้อยแล้ว
	คอมพิวเตอร์หลักก็จะส่งเฟรม
	ACK
	กลับไปให้คอมพิวเตอร์
รองเครื่องนั้นเพื่อเป็นการยืนยันว่าได้รับเฟรมข้อมูลเ
รียบร้อยแล้ว
3)	ในกรณีที่คอมพิวเตอร์รองมีข้อมูลหลายชุด
	และเม
ื่อข้อมูลที่ต้องการส่งหมดแล้ว 	
คอมพ
ิวเตอร์รองจะส่งเฟรม
	
EOT
	
ออกไปเพื่อเป็นการแจ้งคอมพิวเตอร์หลักว่าไม่มีข้อมูลที่ต้องการส่งแล้ว 	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-42
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
หรือถ้าคอมพิวเตอร์รองใช้เวลาในการส่งข้อมูลเกินกว่าระยะเวลาที่ก าห นดให้	ค อมพิวเตอร์หลักจะส่ง
ข้อความไปแจ้งว่าหมดเวลาในการส่ง
	และเล
ิกติดต่อกับคอมพิวเตอร์รองเครื่องนั้น
	เพ
ื่อให้โอกาส
คอมพิวเตอร์รองเครื่องอื่นๆ
	ได้ใ
ช้ช่องสัญญาณบ้าง
2.2 หล ักการท า งานของซีเล็ค 	เป็นว ิธีการที่คอมพิวเตอร์หลักส่งข้อมูลไปให้คอมพิวเตอร์
รองในกรณีที่มีข้อมูลที่ต้องการส่งให้คอมพิวเตอร์รอง
	
เนื่องจากคอมพิวเตอร์หลักเป็นผู้ควบคุมช่องสัญญาณ 	
เพราะฉะนั้นถ้าคอมพิวเตอร์หลักไม่มีการส่งหรือรับข้อมูล
	ก็แสดงว่าช่องสัญญาณนั้นว่าง
	 คอมพิวเตอร์	 คอมพิวเตอร์	 คอมพิวเตอร์	 คอมพิวเตอร์
	 หลัก	 รอง
	#
	1	
รอง
	#
	2	
รอง
	#
	3
เ
วลา	 เวลาSEL
ACK
ข้อมูล
ACK
EOT
ภาพที่ 5.24 ขั้นตอนการท างานของซีเล็ค
สาหรับขั้นตอนการท างานของซีเล็คในภาพที่ 	5.24 	มีรายละเอียดดังต่อไปนี้
1
)	เมื่อคอมพิวเตอร์หลักต้องการจะส่งข้อมูลไปให้คอมพิวเตอร์รอง
	
คอมพิวเตอร์หลัก
จะส่งเฟรม
	SEL
	ไปถามคอมพิวเตอร์รองว่าพร้อมที่จะรับหรือไม่
	ซึ่งในเฟรม
	SEL
	จะระบุหมายเลขของ
คอมพิวเตอร์รองที่ต้องการจะส่งข้อมูลให้
	
2
)	จากนั้นคอมพิวเตอร์รองแต่ละเครื่องก็เอาหมายเลขของคอมพิวเตอร์ที่อยู่ในเฟรม 	
SEL
	ไปตรวจสอบว่าตรงกับหมายเลขของตนเองหรือไม่
	
3
)	ถ้าหมายเลขของคอมพิวเตอร์ที่อยู่ในเฟรม
	
SEL
	
ตรงกับหมายเลขเครื่องของตนเอง 	
(จากภาพที่
	5.24
	หมายเลขของคอมพิวเตอร์ที่อยู่ในเฟรม
	SEL
	ตรงกับหมายเลขเครื่องของคอมพิวเตอร์
รองเคร
ื่องที่
	
3
	
)
	
ก็ส่งเฟรม
	
ACK
	
ไปหาคอมพิวเตอร์หลักเพื่อยืนยันความพร้อมในการรับข้อมูลจากเครื่อง
คอมพิวเตอร์หลัก
	
4
)	คอมพิวเตอร์หลักก็เริ่มส่งข้อมูลไปหาคอมพิวเตอร์รองเครื่องนั้น
	และเม
ื่อ
คอมพิวเตอร์รองได้รับข้อมูลแล้ว
	
ก็ส่งเฟรม
	
ACK
	
ไปให้คอมพิวเตอร์หลักเพื่อแจ้งว่าได้รับข้อมูลแล้ว
	
จากนั้น
คอมพิวเตอร์หลักก็เริ่มส่งเฟรมข้อมูลชุดต่อไป
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-43
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
5)	เมื่อคอมพิวเตอร์หลักหมดข้อมูลที่ต้องการส่งแล้ว 	คอมพิวเตอร์หลักก็ส่งเฟรม 	EOT	
ออกไปเพื่อเป็นการแ
จ้งคอมพิวเตอร์รองว่าหมดข้อมูลที่ต้องการส่งแล้ว
กิจกรรม 5.2.1
1.		 จงบอกความหมายของการควบคุมการไหลของข้อมูล
2.
		
วิธีการควบคุมการไหลของข้อมูลแบ่งออกได้เป็นกี่วิธี
	อะไ
รบ้าง
3.
		
จงบอกหลักการท
า
งานของวิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอ
4.
		
จงบอกหลักการท
า
งานของวิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
แนวตอบกิจกรรม 5.2.1
1.		 กฎเกณฑ์และข้อตกลงการควบคุมการใช้ช่องสัญญาณในการสื่อสารข้อมูลแบ่งออกได้เป็น 	2	
วิธี
	คือ
	เอ็นไควรี่/แอ็คโนเลจเม้นต์
	และ
	โพล/ซีเล็ค
	
2.
		
ขั้นตอนการท
า
งานของวิธีเอ็นไควรี่/แอ็คโนเลจเม้นต์
	มีดังนี้
1
)	สถานีส่งข้อมูลส่งเฟรม
	
ENQ
	
ออกไปเพื่อสอบถามสถานีรับข้อมูลว่าพร้อมที่จะรับข้อมูล
หรือไม่
	
2)	
ถ้าสถานีรับข้อมูลพร้อมที่จะรับข้อมูล
	ก็ส่งเฟรม
	ACK
	กลับไปยังสถานีส่งข้อมูลแต่ถ้า
สถานีรับข้อมูลไม่พร้อมที่จะรับข้อมูล
	ก็ส่งเฟรม
	NAK
	กลับไปยังสถานีส่งข้อมูล
	ในกรณีที่สถานีส่งข้อมูล
ไม่ได้ร
ับเฟรมตอบกลับ
	(อาจจะเป็น
	ACK
	หร
ือ
	NAK)
	จากสถาน
ีรับข้อมูลภายในเวลาที่ก
า
หนด
	แสดงว่า
เฟรมตอบกล
ับอาจสูญหายไปในระหว่างการส่ง
	
สถานีส่งข้อมูลจะส่งเฟรม
	
ENQ
	
ไปสอบถามสถานีรับข้อมูล
อีกครั้ง
	
ถ้าสถานีส่งข้อมูลยังไม่ได้รับเฟรมตอบกลับจากสถานีรับข้อมูล
	
สถานีส่งข้อมูลก็จะหยุดการส่งเฟรม 	
ENQ
	แล้วรอเ
วลาระยะเวลาหนึ่งจึงเริ่มส่งเฟรม
	ENQ
	ไปสอบถามสถานีรับข้อมูลใหม่ในครั้งต่อไป
3
)	เมื่อสถานีส่งข้อมูลได้รับเฟรมตอบกลับมาจากสถานีรับข้อมูลแล้ว 	โ
ดยถ้าเฟรมตอบกลับ
จากสถานีรับข้อมูลเป็นเฟรม 	A
CK	ส
ถานีส่งข้อมูลก็เริ่มส่งเฟรมข้อมูลทั้งหมดให้ 	แ
ละเมื่อหมดเฟรมข้อมูล
ที่ต้องการส่งแล้ว
	สถานีส่งข้อมูลก็ส่งเฟรม
	EOT
	เพื่อแ
จ้งสถานีรับข้อมูลให้ทราบว่าหมดข้อมูลที่ต้องการ
จะส่งแล้ว
	แต่ถ้าเฟรมตอบกลับจากสถานีรับข้อมูลเป็นเฟรม
	NAK
	สถานีส่งข้อมูลก็จะส่งเฟรม
	ENQ
	ไป
สอบถามอีกครั้ง
	และหากสถานีส่งข้อมูลส่งเฟรม
	NAK
	กลับมาอีก
	สถานีส่งข้อมูลก็จะหยุดการส่งข้อมูล
แล้วรอเ
วลาระยะเวลาหนึ่งจึงเริ่มต้นส่งเฟรม
	ENQ
	ใหม่ในครั้งต่อไป
3
.	 วิธีโพล/ซีเล็คมีหลักการท
า
งานคือมีการก
า
หนดให้มีเครื่องคอมพิวเตอร์หลักหนึ่งเครื่อง
	และ
เคร
ื่องคอมพิวเตอร์รองซึ่งอาจจะมีกี่เครื่องก็ได้
	โดยท
ี่คอมพิวเตอร์หลักจะท
า
หน้าที่เป็นสถานีควบคุมการ
ใช้งานช่องสัญญาณในการรับส่งข้อมูล
	เพื่อที่จะรับประกันว่า
	ณ
	เ
วลาใดเวลาหนึ่งจะมีข้อมูลเพียงหนึ่งชุด
เท่านั้นที่อยู่ในช่องสัญญาณ
	ม
ิฉะนั้นแล้วหากมีข้อมูลหลายชุดอยู่ในช่องสัญญาณช่วงเดียวกันอาจจะเกิด
การชนกันของข้อมูลได้
	ในกรณ
ีที่คอมพิวเตอร์หลักต้องการจะเป็นสถานีรับข้อมูล
	คอมพ
ิวเตอร์หลักก็จะ
ท
า
การสอบถามคอมพิวเตอร์รองโดยการส่งเฟรมที่เรียกว่า
	POLL
	ไปให้คอมพ
ิวเตอร์รองแต่ละเครื่องว่า
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-44
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
เครื่องใดต้องการที่จะท าการส่งข้อมูล 	ซึ่งเ รียกวิธีนี้ว่า 	โพล 	(Poll) 	แต่ถ้าคอมพิวเตอร์หลักต้องการจะเป็น
สถาน
ีส่งข้อมูล
	คอมพ
ิวเตอร์หลักก็จะท
า
การเลือกคอมพิวเตอร์รองที่ต้องการจะส่งข้อมูลไปให้โดยการส่ง
เฟรมที่เรียกว่า
	
SEL
	
(Select)
	
ไปยังคอมพิวเตอร์รองเครื่องนั้นเพื่อให้เตรียมตัวในการเป็นสถานีรับข้อมูล
	
ซึ่งเ
รียกวิธีนี้ว่า
	ซีเล็ค
	(Select)
เรื่องที่ 5.2.2 
การควบคุมการไหลของข้อมูล
การควบคุมการไหลของข้อมูล 	(Flow	Control)	เป็นวิธีการที่ใช้ส าหรับป้องกันและควบคุมไม่ให้
สถาน
ีส่งข้อมูลท
า
การส่งข้อมูลด้วยอัตราที่สูงเกินกว่าที่สถานีรับข้อมูลสามารถรับได้
	ด
ังนั้นหากไม่มีการ
ควบคุมการไหลของการรับส่งข้อมูล
	อ
ัตราการส่งของข้อมูลจากสถานีส่งข้อมูลอาจจะมีขนาดและปริมาณ
มากเกินกว่าที่สถานีรับข้อมูลจะประมวลผลได้ทัน
	
โดยปกติแล้วสถานีรับข้อมูลจะมีหน่วยเก็บข้อมูลชั่วคราว
ที่มีขนาดจ
า
กัดขนาดหนึ่งไว้ส
า
หรับเก็บข้อมูลที่ได้รับจากสถานีส่งข้อมูล
	
หน่วยเก็บข้อมูลชั่วคราวของสถานี
รับข้อมูลอาจจะเต็มและท
า
ให้ไม่สามารถรองรับข้อมูลที่เข้ามาใหม่ในช่วงเวลาต่อมาได้
	ซ
ึ่งจะส่งผลท
า
ให้
เกิดความเสียหายกับการรับส่งข้อมูลได้
	
เพราะฉะนั้นการควบคุมการไหลของข้อมูลระหว่างสถานีส่งข้อมูล
และสถานีรับข้อมูลจึงเป็นเรื่องส
า
คัญอย่างมาก
	โดยเฉพาะในระบบเคร
ือข่ายที่ประกอบไปด้วยอุปกรณ์
สื่อสารที่มีขีดความสามารถและประสิทธิภาพที่แตกต่างกัน
	
ยกตัวอย่างเ
ช่น
	ถ้าเ
ขียนโปรแกรมเพื่อพิมพ์ข้อมูลตัวอักษร
	1
	หน้ากระดาษออกไปยังเครื่องพิมพ์
	
โดยสมมต
ิว่าเครื่องพิมพ์ใช้การเข้ารหัสแบบ
	
7
	
บิตต่อตัวอักษร
	
และอัตราการส่งข้อมูลประมาณ
	
14000
	
บิต
ต่อวินาที
	การส่งข้อม
ูลเป็นแบบไม่ประสานเวลา
	กล่าวค
ือ
	ต้องใ
ช้บิตเริ่มต้น
	(Start
	Bit)
	1
	บ
ิต
	และบ
ิตสิ้นสุด	
(Stop
	Bit)
	1
	บิต
	รวมถึงบิตที่ใ
ช้ในการตรวจสอบข้อมูลอีก
	1
	บิต
	ดังนั้น
	1
	ตัวอักษรจะต้องใ
ช้จ
า
นวนบิต
ทั้งหมด
	10
	บิต
	จากอัตราการส่งข้อมูลที่มีอยู่
	เครื่องคอมพิวเตอร์สามารถส่งข้อมูลให้เครื่องพิมพ์ได้วินาที
ละ
	14000/10
	=
	1400
	ตัวอักษร
	สมมติว่าเครื่องพิมพ์มีความสามารถในการพิมพ์
	100
	ตัวอักษรต่อวินาที
	
แ
สดงว่า	ข
้อมูลที่คอมพิวเตอร์ส่งให้กับเครื่องพิมพ์ใน 	1	ว
ินาที	จ
ะเกินกว่าความสามารถที่เครื่องพิมพ์จะรับ
ได้
	14
	เท่า
	(1400/100)
	เครื่องพิมพ์อาจจะมีหน่วยเก็บข้อมูลชั่วคราว
	แต่ก็มีขนาดจ
า
กัด
	ในกรณีที่ข้อมูล
ใ
นการพิมพ์มีมาก 	แ
ละเครื่องคอมพิวเตอร์ส่งข้อมูลเข้ามาเรื่อยๆ 	โ
ดยไม่หยุดรอการท าง
านของเครื่องพิมพ์ 	
ก็อาจจะท
า
ให้หน่วยเก็บข้อมูลชั่วคราวของเครื่องพิมพ์ที่มีอยู่เต็ม
	ซึ่งท
า
ให้ข้อมูลบางส่วนมีการสูญหายได้
	
ส
า
หรับวิธีการควบคุมการไหลของข้อมูล
	สามารถแบ่งออกได้เป็น
	2
	วิธี
	คือ
	1)
	การควบคุมการ
ไหลของข้อมูลแบบหยุดและรอ
	และ
	2)
	การควบคุมการไหลแบบเลื่อนหน้าต่าง
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-45
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
1.  ว ิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอ
วิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอ 	(St op-and-Wait 	Flo w 	Con trol)	เป็น วิธี
การควบคุมการไหลของข้อมูลที่ง่ายที่สุด
	โดยการท
า
งานของวิธีการนี้
	มีรายละเอียดดังนี้
	
เม
ื่อสถานีส่งข้อมูลส่งเฟรมข้อมูลออกไป
	
ซึ่งสามารถส่งได้คราวละหนึ่งเฟรมเท่านั้น
	
จากนั้นจะต้อง
หยุดรอ
	(Stop
	and
	Wait)
	จนกว่าจะได้รับเฟรม
	ACK
	จากสถานีรับข้อมูลก่อนจึงจะส่งเฟรมข้อมูลเฟรม
ต่อไปได้
	ดังแสดงในภาพที่
	5.25
	ดังนั้นหากสถานีรับข้อมูลยังไม่พร้อมที่จะรับเฟรมข้อมูลใหม่
	ก็เพียงแต่
ไม่ต้องส่งเฟรม
	
ACK
	
กลับไปยังสถานีส่งข้อมูล
	
และหน่วงเวลาไปจนกว่าจะพร้อม
	
วิธีนี้สามารถใช้ควบคุม
การไหลของข้อมูลได้
	แต่อาจจะไม่เหมาะสมกับระบบเครือข่ายอินเทอร์เน็ต
	เนื่องจากระยะเ
วลาในการรอ
เฟรมข้อมูลหนึ่งเฟรมใช้เวลามากกว่าการส่งเฟรมข้อมูลหนึ่งเฟรม
	กล่าวค
ือเมื่อสถานีส่งข้อมูลได้ส่งเฟรม
ข้อมูลออกไปแล้ว
	
เฟรมข้อมูลเฟรมนั้นจะต้องผ่านอุปกรณ์เครือข่ายระหว่างทางจ
า
นวนหนึ่ง
	
กว่าจะถึงสถานี
รับข้อมูลก็ต้องใช้เวลาระยะหนึ่ง
	และเมื่อสถานีรับข้อมูลได้รับเฟรมข้อมูลดังกล่าว
	จึงส่งเฟรม
	ACK
	กลับ
มาย
ังสถานีส่งข้อมูล
	
ซึ่งเฟรม
	
ACK
	
ต้องใช้เวลาในการเดินทางผ่านอุปกรณ์ในระบบเครือข่ายอีกช่วงเวลา
หนึ่ง
	ท
า
ให้เกิดความล่าช้าในการติดต่อสื่อสาร
	โดยปกติแล้วสถานีส่งข้อมูลจะก
า
หนดช่วงเวลาของการรอ
เฟรม
	ACK
	จากสถานีรับข้อมูล
	ถ้ายังไม่ได้รับเฟรม
	ACK
	ภายในช่วงเ
วลาดังกล่าว
	สถานีส่งข้อมูลก็จะ
เ
ข้าใจว่าข้อมูลเกิดความสูญหายระหว่างการเดินทาง
	
เพราะฉะนั้นสถานีส่งข้อมูลจะส่งเฟรมข้อมูลเฟรมเดิม
ไปให้สถานีรับข้อมูลอีกครั้งหนึ่ง
ข้อดีของวิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอคือเป็นวิธีการที่พัฒนาได้ง่าย
	ไม่ซ
ับซ้อน	
และม
ีความเชื่อถือสูงในการรับส่งข้อมูล
	
เพราะมีการตรวจสอบการได้รับข้อมูลของเฟรมข้อมูลทุกเฟรม
	
ส่วน
ข้อเสียของวิธีนี้คือ
	ความล่าช้าในการร
ับส่งข้อมูลเพราะจะต้องรอเฟรม
	ACK
	ก่อนท
ี่จะสามารถส่งเฟรม
ข้อมูลเฟรมต่อไปได้ 	ซ
ึ่งจะพบว่าถ้าระยะทางในการรับส่งข้อมูลยิ่งมีระยะทางไกลมากขึ้นเท่าใดประสิทธิภาพ
ในการติดต่อสื่อสารก็จะลดลงมากเท่านั้น
	นอกจากน
ั้นแล้ววิธีนี้จะท
า
ให้ลดประสิทธิภาพการใช้งานช่อง
สัญญาณ
	
เนื่องจากเวลาในการรอคอยเฟรม
	
ACK
	
มีค่าสูง
	
ซึ่งมีผลท
า
ให้
	
ณ
	
เวลาในขณะนั้นไม่สามารถใช้
งานช่องสัญญาณส่งข้อมูลอย่างอื่นได้เลย
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-46
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
สถานี
ส่งข้อมูลสถานี
รับข้อมูล
ช่วงเวลาที่รอ
ช่วงเวลาที่รอ
ช่วงเวลาที่รอ
เวลา	 เวลาข้อมูล
	1
ACK
ข้อมูล
	2
ACK
ข้อมูล
	3
ACK
EOT
ภาพที่ 5.25 ตัวอย่างการส่งชุดข้อมูลในระบบที่มีการควบคุมการไหลของข้อมูลแบบหยุดและรอ
จากตัวอย่างการส่งเฟรมข้อมูลดังแสดงในภาพที่ 	5.25 	เม ื่อสถานีส่งข้อมูลท า การส่งเฟรมข้อมูล
เฟรมที่
	1
	มาให้สถานีรับข้อมูล
	สถานีส่งข้อมูลจะต้องรอเฟรม
	ACK
	จากการส่งเฟรมข้อมูลเฟรมที่
	1
	จาก
สถาน
ีรับข้อมูลเพื่อเป็นการยืนยันว่าสถานีรับข้อมูลได้รับเฟรมข้อมูลเฟรมที่
	1
	เ
รียบร้อยแล้วก่อนที่จะ
สามารถส่งเฟรมข้อมูลเฟรมที่
	
2
	
ออกไปให้สถานีรับข้อมูลได้
	
และเมื่อสถานีส่งข้อมูลได้รับเฟรม
	
ACK
	
จาก
การส่งเฟรมข้อมูลเฟรมที่
	
1
	
แล้ว
	
จึงจะสามารถส่งเฟรมข้อมูลเฟรมที่
	
2
	
ออกไปได้
	
ซึ่งจะเห็นว่าหลังจากได้
ส่งเฟรมข้อมูลออกไปแล้ว
	
สถานีส่งข้อมูลจะต้องรอเฟรม
	
ACK
	
ก่อนที่จะส่งเฟรมข้อมูลเฟรมต่อไปได้
	
และ
เมื่อไม่มีข้อมูลที่ต้องการจะส่งให้แล้ว
	สถานีส่งข้อมูลจะส่งเฟรม
	EOT
	ไปให้สถานีรับข้อมูลเพื่อแ
จ้งสถานี
รับข้อมูลว่าหมดข้อมูลที่ต้องการจะส่งแล้ว
2.  ว ิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
วิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง 	(Sliding	Window	Flow	Control)	จะช่วย
ก

า
จัดข้อเสียของวิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอ
	
นั่นคืออนุญาตให้สถานีส่งข้อมูลส่งเฟรม
ข้อมูลติดต่อกันได้มากกว่าหนึ่งเฟรมก่อนที่จะหยุดรอเฟรม
	ACK
	จากสถาน
ีรับข้อมูล
	ด้วยการก

า
หนด
จ
า
นวนเฟรมข้อมูลที่สถานีส่งข้อมูลสามารถส่งอย่างต่อเนื่องได้โดยไม่ต้องส่งเฟรม
	
ACK
	
ให้สถานีรับข้อมูล 	
ซ
ึ่งเรียกขนาดจ
าน
วนเฟรมข้อมูลนี้ว่า 	ขน
าดของวินโดว์
	(
window	s
ize)	ด
ังแสดงในภาพที่ 	5.
26	ถ
้าสามารถ
ก
า
หนดให้ขนาดของวินโดว์ใหญ่พอก็จะท
า
ให้สถานีส่งข้อมูลไม่ต้องเสียเวลามากในการรอคอยเฟรม
	
ACK	
จากสถาน
ีรับข้อมูล
	ซ
ึ่งมีผลท
า
ให้การใช้งานช่องสัญญาณมีประสิทธิภาพมากขึ้น
	เน
ื่องจากเวลาในช่อง
สัญญาณโดยส่วนใหญ่มีเฟรมข้อมูลไหลอยู่ตลอดเวลา
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-47
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
	 ...	 2	 1	 0	 6	 5	 4	 3	 2	 1	 0	 6	 5	 4	 ...
	 ก
า
แพงหน้าต่างด้านซ้าย	 ก
า
แพงหน้าต่างด้านขวา
(ก)
ACK ACK	6	 5	 4	 3	 2	 1	 0	 …	 6	 5	 4	 3	 2	 1	 0	สถานีส่งข้อมูล		 สถานีรับข้อมูล
วินโดว์ของสถานีส่งข้อมูลวินโดว์ของสถานีรับข้อมูล
ทิศทางการเคลื่อนที่	 ทิศทางการเคลื่อนที่	
...	 0	 1	 2	 3	 4	 5	 6	 0	 1	 2	 3	 4	 5	 6	 ...	 ...	 0	 1	 2	 3	 4	 5	 6	 0	 1	 2	 3	 4	 5	 6	 ...
(ข)
ภาพที่ 5.26 หลักการของวิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
ภาพที่	5.26 	(ก) 	เป็นรูปร่างของวินโดว์ 	ซึ่งจะมีก า แพงด้านซ้ายและก า แพงด้านขวา 	โดยที่ขนาด
ของวินโดว์ควรมีค่าน้อยกว่าหรือเท่ากับ
	2n	-	1	โดยที่ 	n 	เป็นจ า นวนบิต 	ในภาพที่ 	5.26 	(ก) 	ก า หนดให้
วินโดว์มีจ
า
นวน
	3
	บิต
	เพราะฉะนั้น
	ขนาดของวินโดว์มีค่าเป็น
	23	-	1	=	7	ส่วนภาพที่ 	5.26 	(ข) 	แสดง
รูปร่างของวินโดว์ของสถานีรับข้อมูลและสถานีส่งข้อมูล
	ขนาดของวินโดว์ของสถานีรับข้อมูลและสถานีส่ง
ข้อมูลจะต้องมีค่าเท่ากัน
	เมื่อพิจารณาทิศทางการเคลื่อนที่ของก
า
แพงทั้งสองด้านของวินโดว์ของสถานีส่ง
ข้อมูล
	จะพบว่าก

า
แพงด้านซ้ายจะเคลื่อนที่เข้าไปหาก
า
แพงด้านขวาเมื่อสถานีส่งข้อมูลเฟรมข้อมูลถูกส่ง
เข้าไปในช่องสัญญาณ 	ใ
นขณะที่ก าแ
พงด้านขวาจะเคลื่อนออกไปด้านขวาเมื่อสถานีส่งข้อมูลได้รับเฟรม 	
ACK
	จากสถานีรับข้อมูล
	ในกรณีของวินโดว์ของสถานีรับข้อมูลก็จะมีทิศทางการเคลื่อนที่ของก
า
แพงทั้ง
สองด้านเหมือนกับวินโดว์ของสถานีส่งข้อมูล
	น
ั่นคือก
า
แพงด้านซ้ายจะเคลื่อนที่เข้าไปหาก
า
แพงด้านขวา
เมื่อสถานีรับข้อมูลได้รับเฟรมข้อมูล 	ใ
นขณะที่กาแ
พงด้านขวาจะเคลื่อนออกไปด้านขวาเมื่อสถานีรับข้อมูล
ได้ส่งเฟรม
	ACK
	ออกไปยังสถานีส่งข้อมูล
	
เพ
ื่อให้เข้าใจการท
า
งานของวิธีควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่างดียิ่งขึ้น
	จ
ึงจะขอยก
ตัวอย่างการท
า
งานของการส่งข้อมูลด้วยวิธีนี้อีกตัวอย่างหนึ่ง
	ดังแสดงในภาพที่
	5.27
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-48
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
Data 0
Data 1
Data 4
Data 5ACK 2
Data 2
ACK 3
ACK 6Data 3
0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...
0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...0 1 2 3 4 5 6 7 0 1 2 3 4 ...
สถานีสงขอมูล
 สถานีรับขอมูล
ภาพที่ 5.27  ตัวอย่างการส่งชุดข้อมูลโดยวิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
 เมื่อก
า
หนดขนาดวินโดว์มีค่าเป็น 7
ในภาพที่	5.27 	ก  า หนดให้วินโดว์มีจ า นวน 	3 	บ ิต 	เพราะฉะน ั้นขนาดของวินโดว์มีค่าเป็น 	23	-	1	=	7	
ซ
ึ่งหมายความว่าสถานีส่งข้อมูลสามารถส่งเฟรมข้อมูลติดต่อกันอย่างต่อเนื่องมากสุดถึง
	
7
	
เฟรมก่อนจะรอ
เฟรม
	
ACK
	
จากสถานีรับข้อมูล
	
โดยที่เฟรมข้อมูลที่จะส่งออกไปจะมีล
า
ดับหมายเลขก
า
กับอยู่
	
ซึ่งสามารถ
อธิบายการท
า
งานได้ดังต่อไปนี้
1)	เมื่อมีการส่งเฟรมข้อมูลครั้งแรกนั้นวินโดว์จะครอบคลุมเฟรมข้อมูลหมายเลข
	
0
	
–
	
6
	
ท
า
ให้
สถานีส่งข้อมูลสามารถจะส่งเฟรมข้อมูลได้
	7
	เฟรมติดต่อกัน
	
2)	
เมื่อส่งเฟรมข้อมูลที่
	0
	ออกไปแล้ว
	ก
า
แพงทางด้านซ้ายของสถานีส่งข้อมูลจะเลื่อนออก
ไปยังก
า
แพงด้านขวาเป็นจ
า
นวน
	1
	ช่อง
	(เพราะได้ส่งเฟรมข้อม
ูลออกไปเป็นจ
า
นวน
	1
	เฟรม)
	ส่งผลให้
ก
า
แพงด้านซ้ายของสถานีส่งข้อมูลหยุดอยู่ที่หมายเลข
	1
	
3)	
เมื่อสถานีรับข้อมูลได้รับเฟรมข้อมูลที่
	0
	จากสถานีส่งข้อมูลแล้ว
	สถานีรับข้อมูลจะเก็บ
เฟรมข้อม
ูลที่
	0
	ไ
ว้ในหน่วยเก็บข้อมูลชั่วคราวของตนเองเพื่อรอการประมวลผล
	และท

า
การเลื่อนก
า
แพง
ด้านซ้ายของตนเองออกไปด้านขวาเป็นจ
า
นวน
	1
	ช่อง
	ส่งผลให้ก
า
แพงทางด้านซ้ายของวินโดว์ของสถานี
รับข้อมูลมาหยุดอยู่ที่หมายเลข
	1
	
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-49
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
4)	เนื่องจากสถานีส่งข้อมูลสามารถส่งเฟรมข้อมูลต่อเนื่องกันมากที่สุดเป็นจ านวน	7 	เฟรม 	
โดยไม่จ
า
เป็นต้องได้รับเฟรม
	ACK
	ดังนั้นในเ
วลาต่อมา
	สถานีส่งข้อมูลได้ท
า
การส่งเฟรมข้อมูลที่
	1
	ออก
ไปแล้วเลื่อนก
า
แพงทางด้านซ้ายของสถานีส่งข้อมูลออกไปยังก
า
แพงด้านขวาเป็นจ
า
นวน
	1
	ช่อง
	ส่งผลให้
ก
า
แพงด้านซ้ายของสถานีส่งข้อมูลหยุดอยู่ที่หมายเลข
	2
5
)	เมื่อสถานีรับข้อมูลได้รับเฟรมข้อมูลที่
	1
	จากสถาน
ีส่งข้อมูลแล้ว
	สถาน
ีรับข้อมูลจะเก็บ
เฟรมข้อมูลที่
	1
	ไ
ว้ในหน่วยเก็บข้อมูลชั่วคราวของตนเองเพื่อรอการประมวลผล
	และท

า
การเลื่อนก
า
แพง
ด้านซ้ายของสถานีรับข้อมูลออกไปยังก
า
แพงด้านขวาเป็นจ
า
นวน
	
1
	
ช่อง
	
ส่งผลให้ก
า
แพงทางด้านซ้ายของ
วินโดว์ของตนเองมาหยุดอยู่ที่หมายเลข
	2
	
6
)	หลังจากสถานีรับข้อมูลได้รับเฟรมข้อมูลที่
	1
	แล้ว
	สถาน
ีรับข้อมูลได้ท
า
การส่งเฟรม 	
ACK2
	
ออกไปเพื่อแจ้งกับสถานีส่งข้อมูลว่าได้รับเฟรมข้อมูลที่
	
0
	
และเฟรมข้อมูลที่
	
1
	
เรียบร้อยและพร้อม
ที่จะรับเฟรมข้อมูลที่
	2
	แล้ว
	ซึ่งส่งผลให้ก
า
แพงทางด้านขวาของสถานีรับข้อมูลเลื่อนออกไปด้านขวาเป็น
จ
า
นวน
	2
	ช่อง
	ส่งผลให้ก
า
แพงด้านขวาของตนเองหยุดอยู่ที่หมายเลข
	0
7
)	เมื่อสถานีส่งข้อมูลได้รับเฟรม 	A
CK2	แ
ล้วจึงเลื่อนก าแ
พงทางด้านขวาของวินโดว์ของ
สถานีส่งข้อมูลออกไป
	2
	ช่อง
	ส่งผลให้ก

า
แพงด้านขวาของตนเองหยุดอยู่ที่หมายเลข
	0
	ท

า
ให้สถานีส่ง
ข้อมูลสามารถส่งเฟรมข้อมูลติดต่อกันได้ถึงเฟรมข้อมูลหมายเลขที่
	
0
	
(จากเฟรมที่
	
2
	
ถึง
	
เฟรมที่
	
0)
	
มีการ
ท
า
งานเช่นนี้เรื่อยไปจนไม่มีข้อมูลให้ส่งอีกต่อไป
	
ซึ่งจะสังเกตได้ว่าสถานีรับข้อมูลสามารถควบคุมอัตราการ
ส่งเฟรมข้อมูลของสถานีส่งข้อมูลได้ด้วยการหน่วงเวลาของการส่งเฟรม
	ACK
	ไปให้สถานีส่งข้อมูล
อ
ันที่จริงแล้วการควบคุมปริมาณการส่งเฟรมข้อมูลของสถานีส่งข้อมูลด้วยการหน่วงเวลา
การส่งเฟรม
	ACK
	จากสถาน
ีรับข้อมูล
	จะใ
ช้ได้ดีเฉพาะกับระบบการสื่อสารที่ไม่มีการสูญหายหรือไม่มี
ความผิดพลาดของข้อมูลเท่านั้น
	ซ
ึ่งในทางปฏิบัติแล้วการสูญหายหรือความผิดพลาดของข้อมูลเป็นสิ่งที่
ไม่สามารถหลีกเลี่ยงได้
	เพราะฉะนั้นการหน่วงเ
วลาของการส่งเฟรม
	ACK
	จากสถานีรับข้อมูล
	จะช่วยได้
เพ
ียงระดับหนึ่งเท่านั้น
	กล่าวค
ือ
	ในการส่งเฟรมข้อม
ูลจากสถานีส่งข้อมูลออกไปในแต่ละครั้ง
	สถาน
ีส่ง
ข้อมูลจะตั้งนาฬิกาจับเวลาไว้ที่ค่าค่าหนึ่งเพื่อก
า
หนดช่วงเวลาสูงสุดที่จะรอเฟรม
	
ACK
	
จากสถานีรับข้อมูล 	
หากสถาน
ีส่งข้อมูลยังไม่รับเฟรม
	
ACK
	
จากสถานีรับข้อมูลภายในเวลาที่ก
า
หนด
	
สถานีส่งข้อมูลก็จะเข้าใจ
ว่าเฟรมข้อมูลดังกล่าวได้สูญหายไประหว่างทาง
	
จึงส่งเฟรมข้อมูลเฟรมเดิมออกไปอีกครั้งหนึ่ง
	
เพราะฉะนั้น
จึงเป็นไปไม่ได้ที่สถานีรับข้อมูลจะหน่วงเวลาของการส่งเฟรม
	ACK
	เป็นเ
วลานานตามที่ต้องการ
	ซึ่งจะมี
ผลท
า
ให้สถานีส่งข้อมูลจะส่งเฟรมข้อมูลชุดเดิมซ้
า
มาอีกถ้ายังไม่ได้รับเฟรม
	ACK
	ภายในเ
วลาที่ก
า
หนด
	
ก
ารส่งเฟรมข้อมูลซ้
าบ
่อยครั้งจะท
าใ
ห้มีผลกระทบต่อประสิทธิภาพการใช้งานช่องสัญญาณในระบบเป็น
อย่างมาก
	
เพราะฉะนั้นหากอาศัยวิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่างเพียงอย่างเดียวแล้ว 	
การควบค
ุมอัตราการส่งของสถานีส่งข้อมูลจะได้ผลไม่ดีเท่าที่ควรจึงจ
า
เป็นต้องมีกระบวนการอย่างอื่นเพื่อ
จัดการกับปัญหาดังกล่าวด้วย
โดยส่วนใหญ่แล้วการแลกเปลี่ยนข้อมูลในระบบเครือข่ายจะใช้วิธีการควบคุมการไหลของ
ข้อมูลแบบเลื่อนหน้าต่าง
	แต่ได้เพ
ิ่มกระบวนการปรับเปลี่ยนขนาดของวินโดว์เพื่อให้การควบคุมการไหล
ของข้อมูลระหว่างสถานีส่งข้อมูลและสถานีรับข้อมูลมีความสมบูรณ์มากยิ่งขึ้น
	โดยมีหลักการคือในการส่ง
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-50
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
เฟรม	A CK 	อ อกไปในแต่ละครั้ง 	ส ถานีรับข้อมูลจะระบุขนาดของวินโดว์ให้สถานีส่งข้อมูล 	ซ ึ่งโดยทั่วๆ 	ไ ป
แล้วสถานีรับข้อมูลจะต้องก าห
นดขนาดของวินโดว์ให้ตรงกับขนาดของหน่วยเก็บข้อมูลชั่วคราวที่ตนเองมี
อยู่
	ซ
ึ่งหากสถานีรับข้อมูลมีหน่วยเก็บข้อมูลชั่วคราวเหลืออยู่จ
า
นวนมาก
	ก
็สามารถก
า
หนดวินโดว์ให้มี
ขนาดใหญ่ได้
	ซ
ึ่งจะท
า
ให้สถานีส่งข้อมูลสามารถส่งเฟรมข้อมูลติดต่อกันอย่างต่อเนื่องได้จ
า
นวนมากโดย
ไม่ต้องรอเฟรม
	
ACK
	
จากสถานีรับข้อมูลก่อน
	
ท
า
ให้สถานีรับข้อมูลสามารถใส่เฟรมข้อมูลเหล่านั้นในหน่วย
เก็บข้อมูลชั่วคราวของตนเองไว้ชั่วคราวก่อน
	
แล้วจึงทยอยท
า
การประมวลผลเฟรมข้อมูลที่อยู่ในหน่วยเก็บ
ข้อมูลชั่วคราว
	
แต่ถ้าช่วงเวลาใดก็ตามที่สถานีรับข้อมูลมีหน่วยเก็บข้อมูลชั่วคราวไม่เพียงพอหรือไม่พร้อม
ที่จะรับข้อมูล
	
สถานีรับข้อมูลก็สามารถก
า
หนดขนาดวินโดว์ให้มีขนาดเล็กลง
	
ซึ่งจะเป็นการควบคุมให้สถานี
ส่งข้อมูลต้องหน่วงเวลาการส่งเฟรมข้อมูล
	หร
ือในกรณีที่สถานีรับข้อมูลยังไม่พร้อมจะรับเฟรมข้อมูล  
เพิ่มเติม
	ก็สามารถก
า
หนดขนาดวินโดว์ให้มีค่าเป็น
	0
	ได้
สร
ุปแล้วการอนุญาตให้วินโดว์มีขนาดใหญ่จะช่วยให้การส่งเฟรมข้อมูลบนเครือข่ายมี
ประสิทธิภาพและรวดเร็วมากขึ้น
	
เพราะสถานีส่งข้อมูลสามารถส่งเฟรมข้อมูลได้อย่างต่อเนื่องติดต่อกันโดย
ไม่ต้องรอเฟรม
	
ACK
	
จากสถานีรับข้อมูล
	
ส่วนการปรับขนาดของวินโดว์นั้นเป็นกระบวนการที่ท
า
ให้สถานี
รับข้อมูลสามารถควบคุมอัตราการส่งของสถานีส่งข้อมูลให้เป็นไปตามความต้องการของสถานีรับข้อมูลได้
กิจกรรม 5.2.2
1.		 จงบอกความหมายของการควบคุมการไหลของข้อมูล
2.
		
วิธีการควบคุมการไหลของข้อมูลแบ่งออกได้เป็นกี่วิธี
	อะไ
รบ้าง
3.
		
จงบอกหลักการท
า
งานของวิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอ
4.
		
จงบอกหลักการท
า
งานของวิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
แนวตอบกิจกรรม 5.2.2
1.		 การควบคุมการไหลของข้อมูลเป็นวิธีการที่ใช้ส า หรับป้องกันและควบคุมไม่ให้สถานีส่งข้อมูล
ท
า
การส่งข้อมูลด้วยอัตราที่สูงเกินกว่าที่สถานีรับข้อมูลสามารถรับได้
	
เนื่องจากอัตราการส่งของข้อมูลจาก
สถานีส่งข้อมูลอาจจะมีขนาดและปริมาณมากเกินกว่าที่สถานีรับข้อมูลจะประมวลผลได้ทัน
2.
		
วิธีการควบคุมการไหลของข้อมูล
	สามารถแบ่งออกได้เป็น
	2
	วิธี
	คือ
	
1)	
การควบคุมการไหลของข้อมูลแบบหยุดและรอ
2)	การควบคุมการไหลแบบเลื่อนหน้าต่าง
3.		
วิธีการควบคุมการไหลของข้อมูลแบบหยุดและรอเป็นวิธีที่เมื่อสถานีส่งข้อมูลส่งเฟรมข้อมูล
ออกไป
	
ซึ่งสามารถส่งได้คราวละหนึ่งเฟรมเท่านั้น
	
จากนั้นจะต้องหยุดรอจนกว่าจะได้รับเฟรม
	
ACK
	
จาก
สถานีรับข้อมูลก่อนจึงจะส่งเฟรมข้อมูลเฟรมต่อไปได้ 	ด
ังนั้นหากสถานีรับข้อมูลยังไม่พร้อมที่จะรับเฟรม
ข้อมูลใหม่
	ก็เพียงแต่ไม่ต้องส่งเฟรม
	ACK
	กลับไปยังสถานีส่งข้อมูล
	และหน่วงเ
วลาไปจนกว่าจะพร้อม
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-51
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
4.	 วิธีการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่างจะอนุญาตให้สถานีส่งข้อมูลส่งเฟรมข้อมูล
ติดต่อกันได้มากกว่าหนึ่งเฟรมก่อนที่จะหยุดรอเฟรม
	ACK
	จากสถาน
ีรับข้อมูล
	ด้วยการก

า
หนดจ
า
นวน
เฟรมข้อมูลที่สถานีส่งข้อมูลสามารถส่งอย่างต่อเนื่องได้โดยไม่ต้องส่งเฟรม 	A
CK	ใ
ห้สถานีรับข้อมูล
	ซ
ึ่ง
เรียกขนาดจ
านว
นเฟรมข้อมูลนี้ว่า
	ขน
าดของวินโดว์ถ้าสามารถก า
หนดให้ขนาดของวินโดว์ใหญ่พอก็จะ
ท
า
ให้สถานีส่งข้อมูลไม่ต้องเสียเวลามากในการรอคอยเฟรม
	ACK
	จากสถานีรับข้อมูล
	ซึ่งมีผลท
า
ให้การ
ใช้งานช่องสัญญาณมีประสิทธิภาพมากขึ้น
เรื่องที่ 5.2.3 
การควบคุมข้อผิดพลาด
ในการสื่อสารระหว่างเครื่องคอมพิวเตอร์บนระบบเครือข่ายนั้น 	ย่อมมีโอกาสที่จะเกิดข้อผิดพลาด
จากปัจจัยต่างๆ
	หลายชนิดด้วยกัน
	ซึ่งผลที่เกิดขึ้นตามมาก็คือท
า
ให้เกิดความไม่สมบูรณ์ในการสื่อสารใน
ระบบเครือข่ายเพราะฉะนั้นนอกจากการควบคุมการไหลของข้อมูลจะเป็นองค์ประกอบส
า
คัญที่ต้องค
า
นึง
ถึงแล้วการควบคุมข้อผิดพลาดก็มีความจ
า
เป็นอย่างยิ่ง
	
เพราะระบบสื่อสารที่มีประสิทธิภาพจะต้องมีสามารถ
แก้ปัญหาในกรณีที่เฟรมข้อมูลที่ได้รับมานั้นเกิดการช
า
รุด
	หายไป
	หร
ือสถานีรับข้อมูลไม่รู้ว่ามีข้อมูลส่งมาถึง 	
ข้อผิดพลาดของเฟรมข้อมูลที่เกิดจากการรับส่งข้อมูลนั้น
	สามารถแบ่งเป็นออกเป็น
	2
	ชนิด
	คือ
	
1.
		
เฟรมข้อมูลสูญหาย
	คือเฟรมข้อมูลที่ส่งไปไม่ถึงสถานีรับข้อมูล
	หรือเป็นเฟรมข้อมูลที่มีความ
เสียหายมากจนท
า
ให้สถานีรับข้อมูลไม่สามารถเข้าใจได้
	หรืออาจจะไม่ทราบว่าเฟรมข้อมูลนั้นได้ส่งมาถึง
2
.		
เฟรมข้อมูลช
า
รุด
	ค
ือเฟรมข้อมูลที่ส่งมาถึงสถานีรับข้อมูล
	แต่ข้อม
ูลบางส่วนในเฟรมนั้นถูก
เปลี่ยนแปลงระหว่างการส่ง
	
ส

า
หรับการควบคุมข้อผิดพลาดนั้น
	
สถานีรับข้อมูลจะต้องตรวจสอบเฟรมข้อมูลว่ามีความผิดพลาด
อย่างไร
	และจะต้องท

า
อะไรบ้างหากเกิดข้อผิดพลาดขึ้น
	เม
ื่อสถานีรับข้อมูลได้รับข้อมูลแล้วจะท
า
การตรวจสอบ
ข้อผิดพลาดของข้อมูลที่ได้รับมา
	หากพบว่าข้อม
ูลมีข้อผิดพลาด
	สถาน
ีรับข้อมูลสามารถท
า
การควบคุม  
ข้อผิดพลาดที่เกิดขึ้นได้
	โดยแบ่งเป็น
	3
	กรณีด้วยกัน
	ได้แก่
	1)
	ไม่ต้องด
า
เนินการใดๆ
	2)
	ส่งสัญญาณไป
ย
ังสถานีส่งข้อมูลเพื่อให้สถานีส่งข้อมูลท
า
การส่งข้อมูลส่วนที่เสียหายมาให้ใหม่
	
และ
	
3)
	
แก้ไขข้อมูลในส่วน
ที่มีข้อผิดพลาด
	โดยทั่วไปแล้วกระบวนการควบคุมข้อผิดพลาดจะประกอบไปด้วยขั้นตอนต่า
งๆ
	ดังนี้
	
1.
		
การตรวจสอบข้อผิดพลาด
	สถานีรับข้อมูลจะน
า
เฟรมข้อมูลที่ได้รับมาจากสถานีส่งข้อมูลเพื่อ
ตรวจหาข้อผิดพลาด
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-52
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
2.		 การส่งข้อมูลรอบใหม่หลังจากรอจนครบเวลา 	ถ้าสถาน ีส่งข้อมูลได้ส่งเฟรมข้อมูลไปยังสถานี
รับข้อมูลแล้ว 	แ
ต่ไม่ได้รับสัญญาณการตอบกลับภายในเวลาที่ก าห
นด	ส
ถานีส่งข้อมูลจะต้องส่งเฟรมข้อมูล
นั้นไปยังสถานีรับข้อมูลอีกครั้งทันที
3.	 การตอบกลับเฟรม
	ACK
	เฟรม
	NAK
	และการส่งข้อม
ูลรอบใหม่
	ถ้าสถาน
ีรับข้อมูลได้รับ
ข้อมูลถูกต้องแล้ว
	สถานีรับข้อมูลจะส่งเฟรม
	ACK
	ไปให้สถานีส่งข้อมูล
	แต่ถ้าเฟรมข้อมูลที่ส่งมานั้นเกิด
ข
้อผิดพลาด 	ส
ถานีรับข้อมูลจะส่งเฟรม 	N
AK	ก
ลับมายังสถานีส่งข้อมูล 	แ
ละเมื่อสถานีส่งข้อมูลได้รับเฟรม 	
NAK
	แล้ว
	สถานีส่งข้อมูลก็จะส่งเฟรมข้อมูลนั้นไปให้ใหม่ในทันที
	ซึ่งเ
รียกกระบวนการนี้ว่า
	การส่งข้อมูล
ซ้
า
อัตโนมัติ
การส่งข้อมูลซ้ าอัตโนมัติ 
การส่งข้อมูลซ้ าอัตโนมัติ	(Automatic-Repeat-reQuest: 	ARQ)	เป็นกระบวนการในการควบคุม
ข
้อผิดพลาดข้อมูลของสถานีรับข้อมูล 	โ
ดยที่การส่งข้อมูลซ้ าอ
ัตโนมัติจะท าง
านในชั้นดาต้าลิงค์ของแบบ
จ
า
ลองเครือข่ายโอเอสไอ
	ซึ่งประกอบด้วย
	2
	วิธี
	คือ
	1)
	วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบหยุดและรอ
	และ
	
2)
	วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบเลื่อนหน้าต่าง
	
1.  ว ิธีการส่งข้อมูลซ้ า อัตโนมัติแบบหยุดและรอ (Stop-And-Wait ARQ) 	เป็นวิธีที่มีการก าหนด
หมายเลขให้แก่เฟรมข้อม
ูลแต่ละเฟรมที่ส่งออกไป
	
จากนั้นก็รอเฟรมตอบกลับจากสถานีรับข้อมูล
	
เมื่อข้อมูล
ไปถึงสถานีรับข้อมูล
	
สถานีรับข้อมูลจะตรวจสอบความถูกต้องของข้อมูลที่ได้รับมา
	
ถ้าหากพบว่าข้อมูลนั้น
มีความถูกต้องสถานีรับข้อมูลจะส่งเฟรม
	ACK
	กลับมาให้สถานีส่งข้อมูล
	สถานีส่งข้อมูลจึงส่งเฟรมข้อมูล
ในล
า
ดับต่อไปให้
	แต่ถ้าหากพบว่าข้อมูลที่ได้รับมาไม่ถูกต้อง
	สถานีรับข้อมูลก็จะส่งเฟรม
	NAK
	กลับมา
ให้สถานีส่งข้อมูลแทน
	ท
า
ให้สถานีส่งข้อมูลจะต้องส่งเฟรมข้อมูลเดิมกลับไปให้สถานีรับข้อมูลอีกครั้งหนึ่ง
จนกว่าจะได้รับเฟรม
	ACK
	จะเห็นว่าวิธีนี้มีประสิทธิภาพต่
า
มากเนื่องจากใช้เวลาส่วนใหญ่ในการรอเฟรม
ตอบรับระหว่างสถานีส่งข้อมูลและสถานีรับข้อมูลแทนที่จะเป็นข้อมูล
	ซ
ึ่งเป็นการใช้ช่องสัญญาณอย่างไม่
คุ้มค่า
	อย่างไ
รก็ตาม
	ว
ิธีนี้ได้รับความนิยมในการใช้งานบนเครื่องเมนเฟรมและในระบบเครือข่ายแลน
เนื่องจากเป็นวิธีการที่ง่ายต่อการน
า
ไปใช้งาน
	และย
ังง่ายต่อการควบคุมอีกด้วย
	การท

า
งานของการส่ง
ข้อมูลซ้
า
อัตโนมัติแบบหยุดและรอ
	แบ่งออกเป็น
	4
	กรณี
	ดังนี้คือ
1.1  กรณ ีไม่เกิดความผิดพลาด (Error-free operation) 	เป็นกรณีพื้นฐานของการส่งข้อมูล
ซ้
า
อัตโนมัติแบบหยุดและรอ
	โดยมีขั้นตอนการท
า
งานดังแสดงในภาพที่
	5.28
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-53
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
	 สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
เวลา	 เวลา	 เฟรมข้อมูล	 0
	 ACK
		
1
	 เฟรมข้อมูล
		
1
	 ACK
		
0 . . 
.
ภาพที่ 5.28 ขั้นตอนการท างานของวิธีการส่งข้อมูลซ้ าอัตโนมัติแบบหยุดและรอในกรณีไม่เกิดความผิดพลาด
จากภาพที่ 	5.28	เมื่อสถานีส่งข้อมูลส่งเฟรมข้อมูลหมายเลข 	0	(ข้อมูล	0)	ออกไปแล้ว 	สถานี
ส่งข้อมูลจะหยุดรอเฟรม
	ACK
	หมายเลข
	1
	(ACK
	1)
	จากสถานีรับข้อมูล
	เมื่อสถานีรับข้อมูลได้รับเฟรม
ข้อม
ูลหมายเลข
	0
	แล้วก
็จะส่งเฟรม
	ACK
	หมายเลข
	1
	กล
ับไปยังสถานีส่งข้อมูลเพื่อแจ้งว่าได้รับเฟรม
ข้อมูลหมายเลข
	0
	เ
รียบร้อยและเฟรมข้อมูลดังกล่าวไม่มีความผิดพลาด
	และพร้อมท
ี่จะรับ
	เฟรมข้อม
ูล
หมายเลข
	1
	(ข้อมูล
	1)
	เมื่อสถานีส่งข้อมูลได้รับเฟรม
	ACK
	หมายเลข
	1
	จากสถานีรับข้อมูลแล้ว
	ก็ส่ง
เฟรมข้อมูลหมายเลข
	1
	ออกไป
	แล้วหยุดรอเฟรม
	ACK
	หมายเลข
	0
	(ACK
	0)
	จากสถานีรับข้อมูล
	และ
จะท
า
แบบนี้ต่อไปเรื่อยๆ
	จนกระทั่งสถานีส่งข้อมูลหมดข้อมูลที่ต้องการส่ง
	
1.2  กรณ ีการสูญหายของเฟรมข้อมูล (Lost Information Frame) 	เม ื่อสถานีส่งข้อมูล
ท
า
การส่งเฟรมข้อมูลไปแล้ว
	
สถานีส่งข้อมูลจะหยุดรอเฟรม
	
ACK
	
จากสถานีรับข้อมูล
	
แต่ถ้าหากไม่ได้รับ
เฟรม
	ACK
	ภายในระยะเ
วลาที่ก
า
หนด
	จะเกิดเหตุการณ์ที่เ
รียกว่า
	หมดเ
วลา
	(time
	out)
	จากนั้นสถานี
ส่งข้อมูลจะต้องส่งเฟรมข้อมูลเดิมออกไปอีกครั้งจนกระทั่งได้รับเฟรม
	ACK
	จากสถานีรับข้อมูล
	ดังแสดง
ในภาพที่
	5.29
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-54
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
	 สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
เวลา	 เวลา	 เฟรมข้อมูล	 0
	 ACK
		
1
	 เฟรมข้อมูล
		
1
 
	
เฟรมข้อมูล
		
1
	 ACK
		
0 . . .หายไปเริ่มจับเวลา
หมดเวลา
	
(time
	out)
ภาพที่ 5.29  ขั้นตอนการท างานของวิธีการส่งข้อมูลซ้ าอัตโนมัติแบบหยุดและรอในกรณีเกิดการสูญหาย
 ของเฟรมข้อมูล 
จากภาพที่ 	5 .29 	เ มื่อสถานีส่งข้อมูลท าก ารส่งเฟรมข้อมูลหมายเลข 	0	อ อกไปแล้ว 	ส ถานีส่ง
ข้อมูลจะหยุดรอเฟรม
	ACK
	หมายเลข
	1
	จากสถาน
ีรับข้อมูล
	และเม
ื่อสถานีส่งข้อมูลได้รับเฟรม
	ACK	
หมายเลข
	1
	ก็เ
ริ่มส่งเฟรมข้อมูลหมายเลข
	1
	ออกไป
	และหยุดรอเฟรม
	ACK
	หมายเลข
	0
	จากสถานีรับ
ข
้อมูล	ส
ถานีส่งข้อมูลจะรอเฟรม
	A
CK	ห
มายเลข	0	จ
นกระทั่งครบระยะเวลาที่ก
าห
นด	ถ
้ายังไม่ได้รับเฟรม 	
ACK
	หมายเลข
	0
	สถาน
ีส่งข้อมูลก็เข้าใจว่าเฟรมข้อมูลหมายเลข
	1
	ท
ี่เพิ่งส่งออกไปให้อาจจะเกิดปัญหาขึ้น 	
สถานีส่งข้อมูลจะต้องส่งเฟรมข้อมูลเดิม
	
ก็คือ
	
เฟรมข้อมูลหมายเลข
	
1
	
ออกไปอีกครั้งจนกระทั่งได้รับเฟรม
	
ACK
	หมายเลข
	0
	จากสถานีรับข้อมูล
1.3  กรณ ีการสูญหายของเฟรม ACK (Lost Acknowledgment) 	ในกรณีที่สถานีส่งข้อมูล
ไ
ม่ได้รับเฟรม
	A
CK
	จ
ากสถานีรับข้อมูลภายในระยะเวลาที่ก
า
หนด	เน
ื่องจากเกิดการสูญหายของเฟรม 	
A
CK	ส
ถานีส่งข้อมูลจะต้องส่งเฟรมข้อมูลเดิมออกไปอีกครั้ง 	ซ
ึ่งทาใ
ห้สถานีรับข้อมูลได้รับเฟรมข้อมูลเฟรม
เดิมซ้
า	สถานีรับข้อมูลจึงต้องทิ้งเฟรมข้อมูลที่เพิ่งได้รับมาทิ้งไป
	ดังแสดงในภาพที่
	5.30
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-55
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
กาลังรอเฟรมข้อมูลที่ 	0 	
แต่กล
ับได้รับเฟรมข้อมูลที่
	
1	
จึงทิ้งเฟรมข้อมูลที่
	1
	ที่เพิ่ง
ได้รับมา	
สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
เริ่มจับเวลา
หมดเวลา
	
(time
	out)
เ
วลา	 เวลา	 เฟรมข้อมูล	 0
	 ACK
		
1
	 เฟรมข้อมูล
		
1
	 ACK	 0
 
	
เฟรมข้อมูล
		
1
	 ACK
		
0 . . .
ภาพที่ 5.30  ขั้นตอนการท างานของวิธีการส่งข้อมูลซ้ าอัตโนมัติแบบหยุดและรอ
 ในกรณีการสูญหายของเฟรม ACK 
จากภาพที่ 	5.30	จะเห็นว่าเมื่อสถานีรับข้อมูลได้รับเฟรมข้อมูลหมายเลข 	1	แล้ว	และส่งเฟรม 	
ACK
	หมายเลข
	0
	ไปให้สถานีส่งข้อมูล
	ในขณะที่สถานีส่งข้อมูลรอรับเฟรม
	ACK
	หมายเลข
	0
	แต่ก็ยัง
ไ
ม่ได้รับภายในเวลาที่ก าห
นดจึงเข้าใจว่าเฟรมข้อมูลหมายเลข 	1	เ
กิดปัญหาขึ้น 	ท
ั้งๆ	ท
ี่เฟรมที่สูญหาย 	ค
ือ
เฟรม
	ACK
	หมายเลข
	0
	ท
ี่ส่งมาจากสถานีรับข้อมูล
	ด
ังนั้นสถานีส่งข้อมูลจึงส่งเฟรมข้อมูลหมายเลข
	1	
ไปให้สถาน
ีรับข้อมูลอีกครั้งหนึ่ง
	เม
ื่อสถานีรับข้อมูลได้รับเฟรมข้อมูลหมายเลข
	1
	ก
็น
า
มาตรวจสอบกับ
ข้อมูลที่ตนเองได้รับ 	แ
ละพบว่าเป็นเฟรมข้อมูลที่ได้รับแล้ว 	จ
ึงทิ้งเฟรมข้อมูลหมายเลข 	1	ท
ี่เพิ่งได้รับมา 	
จากนั้นก็ส่งเฟรม
	ACK
	หมายเลข
	0
	ไปให้สถานีส่งข้อมูลอีกครั้งหนึ่ง
	
1.4  กรณ ีการล่าช้าของเฟรม ACK (Delayed acknowledgments) 	ในกรณ ีที่เกิดความ
ล่าช้าในการเดินทางของเฟรม
	ACK
	จากสถานีรับข้อมูลมายังสถานีส่งข้อมูล
	วิธีการนี้แก้ปัญหาโดยการ
ก
า
หนดหมายเลขให้กับเฟรม
	ACK
	ดังแสดงในภาพที่
	5.31หายไป
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-56
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
เวลา	 เวลา	 สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
	เฟรมข้อมูล 		 0
	เฟรมข้อมูล
		
0
	เฟรมข้อมูล
		
1
	เฟรมข้อมูล
		
1	 ACK		 1
	 ACK
		
1
	 ACK		 0ทิ้ง	ACK 	1 	
เพราะ
ได้รับแล้วก
า
ลังรอเฟรมข้อมูลที่
	1
	
แต่กลับได้รับเฟรมข้อมูล
ที่
	0
	จึงทิ้งเฟรมข้อมูลที่
	1เ
ริ่มจับเวลา
time
	out
เ
ริ่มจับเวลา
time
	out
ภาพที่ 5.31  ขั้นตอนการท างานของวิธีการส่งข้อมูลซ้ าอัตโนมัติแบบหยุดและรอ
 ในกรณีเกิดการล่าช้าของเฟรม ACK
จากภาพที่ 	5.31 	เม ื่อสถานีส่งข้อมูลส่งเฟรมข้อมูลหมายเลข 	0 	ออกไป 	และรอร ับเฟรม 	ACK	
หมายเลข
	1
	จากสถานีรับข้อมูล
	แต่เกิดความล่าช้าของเฟรม
	ACK
	หมายเลข
	1
	เมื่อสถานีส่งข้อมูลไม่ได้
รับเฟรม
	ACK
	หมายเลข
	1
	ภายในระยะเ
วลาที่ก
า
หนด
	สถานีส่งข้อมูลจึงส่งเฟรมข้อมูลหมายเลข
	0
	ออก
ไปอ
ีกครั้ง
	
แต่หลังจากส่งเฟรมข้อมูลหมายเลข
	
0
	
ออกไปเป็นครั้งที่
	
2
	
แล้ว
	
กลับได้รับเฟรม
	
ACK
	
หมายเลข	
1
	จากสถานีรับข้อมูล
	สถานีส่งข้อมูลจึงส่งเฟรมข้อมูลหมายเลข
	1
	ออกไป
	ต่อมาเฟรม
	ACK
	หมายเลข
	1
	
ซึ่งเป็นเฟรม
	ACK
	ของเฟรมข้อมูลหมายเลข
	0
	ที่ส่งไปเป็นครั้งที่
	2
	ได้มาถึงสถานีรับข้อมูล
	ท
า
ให้สถานี
ส่งข้อมูลคิดว่าเป็นเฟรม
	ACK
	ของการส่งเฟรมข้อม
ูลหมายเลข
	1
	ท
ี่พึ่งส่งไป
	จ
ึงท
า
การส่งเฟรมข้อมูล
หมายเลข
	
0
	
ไปให้
	
แต่ปรากฏว่าการส่งเฟรมข้อมูลหมายเลข
	
1
	
เกิดความผิดพลาดระหว่างทาง
	
ท
า
ให้สถานี
รับข้อมูลไม่มีโอกาสได้รับเฟรมข้อมูลหมายเลข
	
1
	
เนื่องจากสถานีส่งข้อมูลได้ท
า
การส่งเฟรมข้อมูลหมายเลข 	
0
	
ไปแล้ว
	
จากกรณีนี้ท
า
ให้ต้องมีการก
า
หนดหมายเลขให้กับเฟรม
	
ACK
	
ที่มาจากสถานีรับข้อมูลด้วย
	
เพื่อ
ป้องกันมิให้สถานีส่งข้อมูลส่งเฟรมข้อมูลซ้
า	
2.  วิ ธีการส่งข้อมูลซ้ าอั ตโนมัติแบบเลื่อนหน้าต่าง (Sliding Window ARQ) 	เป็นวิธีการควบคุม
ข้อผ
ิดพลาดที่มีพื้นฐานมาจากการควบคุมการไหลของข้อมูลแบบเลื่อนหน้าต่าง
	
เทคนิคของวิธีการส่งข้อมูล
ซ้
า
อัตโนมัติแบบเลื่อนหน้าต่างนี้มีหลายเทคนิคด้วยกัน
	
แต่เทคนิคที่นิยมใช้นั้น
	
มี
	
2
	
เทคนิค
	
คือ
	
1)
	
โกแบ็ค
เอ็นเออาร์คิว
	และ
	2)
	ซีเล็คทีฟรีเ
จ็คเออาร์คิว
	หายไป
...
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-57
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
2.1  โกแบ ็คเอ็นเออาร์คิว (Go-Back-N ARQ) 	เป็นเทคน ิคที่สถานีส่งข้อมูลสามารถส่ง
เฟรมข้อมูล 	(
ที่มีการกาห
นดหมายเลขล าด
ับ)	ไ
ปให้สถานีรับข้อมูลได้อย่างต่อเนื่อง 	โ
ดยทางสถานีรับข้อมูล
ยังคงตรวจสอบทีละเฟรมข้อมูล
	
ถ้าเฟรมข้อมูลถูกต้องสถานีรับข้อมูลจะส่งเฟรม
	
ACK
	
พร้อมระบุหมายเลข
ของเฟรมที่ต้องการรับไปให้สถานีส่งข้อมูล
	
ถ้าตรวจสอบแล้วข้อมูลที่อยู่ในเฟรมผิดเพี้ยนหรือไม่ได้รับเฟรม
ข้อมูล
	สถานีรับข้อมูลก็ท
า
การส่งเฟรม
	NAK
	พร้อมระบุหมายเลขของเฟรมข้อมูลที่มีข้อมูลผิดเพี้ยนหรือ
ไ
ม่ได้รับ	
เพื่อต้องการให้สถานีส่งข้อมูลส่งเฟรมข้อมูลหมายเลขดังกล่าวมาให้ใหม่
	เ
มื่อสถานีส่งข้อมูลได้รับ
เฟรม
	NAK
	พร้อมหมายเลขด
ังกล่าวแล้ว
	สถาน
ีส่งข้อมูลจะเริ่มส่งเฟรมข้อมูลใหม่ตั้งแต่เฟรมข้อมูล
หมายเลขที่ระบุในเฟรม
	NAK
	เป็นต้นไป
	ดังแสดงในภาพที่
	5.32
	 สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
	 เฟรมข้อมูล 		 0
	 เฟรมข้อมูล
		
1
	 เฟรมข้อมูล
		
2
	 เฟรมข้อมูล
		
3
	 เฟรมข้อมูล
		
4
	 เฟรมข้อมูล
		
2
	 เฟรมข้อมูล
		
3
	 เฟรมข้อมูล
		
4NAK	2
สถานีส่งจะต้องส่งเฟรม
ข้อมูลที่
	2-4
	ออกไปใหม่เฟรมข้อมูลที่
	2
	ผิดเพี้ยน
	
สถานีรับจึงส่งเฟรม
	NAK
	2
	
กลับไปเพื่อให้สถานีส่ง
เ
วลา	 เวลา
ภาพที่ 5.32 การท างานของโกแบ็คเอ็นเออาร์คิว
จากภาพที่ 	5.32 	สมมติว่าเฟรมข้อมูลหมายเลข 	2 	มีข้อมูลผิดเพี้ยน 	ดังนั้นสถานีรับข้อมูล
จะส่งเฟรม
	NAK
	หมายเลข
	2
	กล
ับไปยังสถานีส่งข้อมูล
	ทางด้านสถาน
ีส่งข้อมูล
	(ซ
ึ่งได้ส่งเฟรมข้อมูล
หมายเลข
	0
	ถึง
	หมายเลข
	4
	ไปแล้ว)
	จะต้องย้อนกลับไปส่งเฟรมข้อมูลหมายเลข
	2-4
	กลับไปให้สถานี
รับข้อมูลใหม่
	
ถ้าข้อม
ูลไม่มีการผิดเพี้ยนเกิดขึ้น
	การส่งข้อม
ูลด้วยเทคนิคนี้มีประสิทธิภาพมากเนื่องจาก
เสียเวลาในการรอคอยน้อยมาก
	แต่ถ้าม
ีข้อมูลผิดเพี้ยนเกิดขึ้นมาก
	ประส
ิทธิภาพของเทคนิคนี้จะไม่แตกต่าง...
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-58
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
จากวิธีการส่งข้อมูลซ้ าอัตโนมัติแบบหยุดและรอ 	อย่างไ รก็ตาม 	เทคน ิคนี้อาจจะท า ให้มีข้อมูลถูกส่งเข้าสู่
ระบบเครือข่ายตลอดเวลา
	
และเฟรมข้อมูลหนึ่งๆ
	
อาจถูกส่งซ้
า
แล้วซ้
า
อีกได้หลายครั้ง
	
เช่น
	
ในภาพที่
	
5.32	
เฟรมข้อม
ูลที่
	2
	ถ
ึง
	เฟรมข้อม
ูลที่
	4
	จะถ
ูกส่งซ้
า
จนกว่าเฟรมข้อมูลที่
	2
	จะไปถ
ึงสถานีรับข้อมูลอย่าง  
ถูกต้อง
2.2  ซ ีเล็คทีฟรีเจ็คเออาร์คิว (Selective-Reject ARQ) 	เป็นเทคนิคที่มีประสิทธิภาพสูงสุด
และได้ร
ับการน
า
ไปใช้ในการส่งข้อมูลความเร็วสูงบนเครื่องเมนเฟรมและโพรโทคอลการส
า
เนาแฟ้มข้อมูล
ความเร็วสูงต่างๆ
	
มากมาย
	
แต่มีต้นทุนในการพัฒนาค่อนข้างสูง
	
โดยที่เทคนิคนี้จะคล้ายกับเทคนิคโกแบ็ค
เอ็นเออาร์คิว
	แต่จะส่งเฉพาะเฟรมข้อมูลที่เสียหายเท่านั้น
	ดังแสดงในภาพที่
	5.33
	
	 เฟรมข้อมูล 		 0
	 เฟรมข้อมูล
		
1
	 เฟรมข้อมูล
		
2
	 เฟรมข้อมูล
		
3
	 เฟรมข้อมูล
		
4
	 เฟรมข้อมูล
		
2	 สถานี	 สถานี
	 ส่งข้อมูล	 รับข้อมูล
เฟรมข้อมูลที่
	2
	ผิดเพี้ยน
	
สถานีรับจึงส่งเฟรม
	NAK
	2
	
กลับไปเพื่อให้สถานีส่ง
สถานีส่งเฉพาะเฟรม
ข้อมูลที่
	2
	ออกไปใหม่
เ
วลา	 เวลาNAK	2
ภาพที่ 5.33 การท างานของซีเล็คทีฟรีเจ็คเออาร์คิว
จากภาพที่ 	5.33 	สมมติว่าเฟรมข้อมูลหมายเลข 	2 	มีข้อมูลผิดเพี้ยน 	ดังนั้นสถานีรับข้อมูล
จะส่งเฟรม
	NAK
	หมายเลข
	2
	กล
ับไปยังสถานีส่งข้อมูลทางด้านสถานีส่งข้อมูล
	(ซ
ึ่งได้ส่งเฟรมข้อมูล
หมายเลข
	0
	ถึง
	หมายเลข
	4
	ไปแล้ว)
	จะส่งเฉพาะเฟรมข้อมูลหมายเลข
	2
	กลับไปให้สถานีรับข้อมูลใหม่
เท่านั้น
จากต
ัวอย่างจะเห็นว่าเฟรมข้อมูลที่ไปถึงสถานีรับข้อมูลอาจอยู่ในล
า
ดับที่ไม่ถูกต้อง
	เ
ช่น	
เฟรมข้อม
ูลทางด้านสถานีรับข้อมูลจะเป็น
	หมายเลข
	0
	หมายเลข
	1
	หมายเลข
	3
	หมายเลข
	4
	และ	
หมายเลข
	2
	ตามล
า
ดับ
	จึงเป็นหน้าที่ของสถานีรับข้อมูลที่จะต้องจัดการเ
รียงล
า
ดับเฟรมข้อมูลให้ถูกต้อง
ก่อนที่จะน
า
ข้อมูลนั้นไปใช้งานต่อไป
	
ประสิทธิภาพของวิธีการนี้จึงเกิดขึ้นจากการที่สถานีส่งข้อมูลสามารถ
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-59
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
ส่งข้อมูลได้อย่างต่อเนื่องตราบเท่าที่มีข้อมูลที่ต้องการส่งออกไปและข้อมูลที่ส่งซ้ าเป็นข้อมูลที่มีการผิดเพี้ยน
เท่านั้น
	
กิจกรรม 5.2.3
1.		 จงบอกหลักการท า งานของการส่งข้อมูลซ้ า อัตโนมัติ
2.
		
วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบ่งออกได้เป็นกี่วิธี
	อะไ
รบ้าง
3.
		
จงบอกหลักการท
า
งานของวิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบหยุดและรอ
4.
		
เทคนิคของวิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบเลื่อนหน้าต่างที่นิยมใช้มีกี่เทคนิค
	อะไ
รบ้าง
5.
		
จงบอกหลักการท
า
งานของโกแบ็คเอ็นเออาร์คิว
6.
		
จงบอกหลักการท
า
งานของซีเล็คทีฟรีเจ็คเออาร์คิว
แนวตอบกิจกรรม 5.2.3
1.		 การส่งข้อมูลซ้ า อัตโนมัติมีหลักการท า งานคือถ้าสถานีรับข้อมูลได้รับข้อมูลถูกต้อง 	สถาน ีรับ
ข้อมูลจะส่งเฟรม
	
ACK
	
ไปให้สถานีส่งข้อมูล
	
แต่ถ้าเฟรมข้อมูลที่ส่งมานั้นเกิดข้อผิดพลาด
	
สถานีรับข้อมูล
จะส่งเฟรม
	NAK
	กลับมายังสถานีส่งข้อมูล
	และเมื่อสถานีส่งข้อมูลได้รับเฟรม
	NAK
	จากสถานีรับแล้ว
	
สถานีส่งข้อมูลก็จะส่งเฟรมข้อมูลนั้นไปให้ใหม่ในทันที
2.
		
วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบ่งออกเป็น
	2
	วิธี
	คือ
	1)
	วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบหยุด
และรอ
	และ
	2)
	วิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบเลื่อนหน้าต่าง
3.		
การส่งข้อมูลซ้
าอ
ัตโนมัติแบบหยุดและรอมีหลักการท
า
งานคือ
	ก่
อนที่สถานีส่งข้อมูลส่งเฟรม
ข้อมูลออกไปจะต้องมีการก
า
หนดหมายเลขให้แก่เฟรมข้อมูลแต่ละเฟรมที่ส่งออกไป
	
จากนั้นก็รอเฟรมตอบ
กลับจากสถานีรับข้อมูล
	
เมื่อข้อมูลไปถึงสถานีรับข้อมูล
	
สถานีรับข้อมูลจะตรวจสอบความถูกต้องของข้อมูล
ที่ได้รับมา
	
ถ้าหากพบว่าข้อมูลนั้นมีความถูกต้องสถานีรับข้อมูลจะส่งเฟรม
	
ACK
	
กลับมาให้สถานีส่งข้อมูล 	
สถาน
ีส่งข้อมูลจึงส่งเฟรมข้อมูลในล
า
ดับต่อไปให้
	
แต่ถ้าหากพบว่าข้อมูลที่ได้รับมาไม่ถูกต้อง
	
สถานีรับข้อมูล
ก็จะส่งเฟรม 	N
AK
	กล
ับมาให้สถานีส่งข้อมูลแทน
	ท
าใ
ห้สถานีส่งข้อมูลจะต้องส่งเฟรมข้อมูลเดิมกลับไป
ให้สถานีรับข้อมูลอีกครั้งหนึ่งจนกว่าจะได้รับเฟรม
	ACK
	จากสถานีรับข้อมูล
4
.		
เทคนิคของวิธีการส่งข้อมูลซ้
า
อัตโนมัติแบบเลื่อนหน้าต่างนี้มีหลายเทคนิคด้วยกัน
	
แต่เทคนิค
ที่นิยมใช้นั้น
	มี
	2
	เทคนิค
	คือ
	1)
	โกแบ็คเอ็นเออาร์คิว
	และ
	2)
	ซีเล็คทีฟรีเ
จ็คเออาร์คิว
5.		
โกแบ็คเอ็นเออาร์คิวมีหลักการท
า
งานคือ
	
สถานีส่งข้อมูลสามารถส่งเฟรมข้อมูลไปให้สถานีรับ
ข้อมูลได้อย่างต่อเนื่อง
	ถ้าสถานีรับได้รับเฟรมข้อมูลถูกต้อง
	สถานีรับข้อมูลจะส่งเฟรม
	ACK
	พร้อมระบุ
หมายเลขของเฟรมท
ี่ต้องการรับไปให้สถานีส่งข้อมูล
	
แต่ถ้าสถานีรับข้อมูลตรวจสอบแล้วข้อมูลที่อยู่ในเฟรม
ผิดเพี้ยนหรือไม่ได้รับเฟรมข้อมูล 	ส
ถานีรับข้อมูลก็ท าก
ารส่งเฟรม 	N
AK	พ
ร้อมระบุหมายเลขของเฟรม
ข้อมูลที่มีข้อมูลผิดเพี้ยนหรือไม่ได้รับกลับไปให้
	เพ
ื่อต้องการให้สถานีส่งข้อมูลส่งเฟรมข้อมูลหมายเลข  
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-60
การสื่อสารข้อมูลและระบบเครือข่ายคอมพิวเตอร์
ดังกล่าวมาให้ใหม่ 	โดยที่เมื่อสถานีส่งข้อมูลได้รับเฟรม 	NAK	พร้อมหมายเลขดังกล่าวแล้ว 	สถานีส่งข้อมูล
จะเ
ริ่มส่งเฟรมข้อมูลใหม่ตั้งแต่เฟรมข้อมูลหมายเลขที่ระบุในเฟรม
	NAK
	เป็นต้นไป
6
.		
ซีเล็คทีฟรีเจ็คเออาร์คิวมีหลักการท
า
งานคล้ายกับเทคนิคโกแบ็คเอ็นเออาร์คิว
	
แต่จะส่งเฉพาะ
เฟรมข้อมูลที่เสียหายเท่านั้น
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ5-61
การตรวจสอบแก้ไขความผิดพลาดและควบคุมการไหลของข้อมูล
บรรณานุกรม
จักกริช	พฤษการ. 	(2548). 	การสื่อสารและเครือข่ายคอมพิวเตอร์ .
Andrew
	S.
	T
anenbaum.
	(2002).
	C
omputer Networks
	(4th	ed.).	Prentice 	Hall 	PTR.
Behrouz
	A.
	Forouzan.
	(2004).
	Data Communications and Networking
	(3rd	ed.).	McGraw-Hill.
William
	Stallings.
	(2007).
	Data and Computer Communications
	(8th	ed.).	Pearson 	Prentice 	Hall.
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธมสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ 
 
มสธ    มสธ    มสธ    มสธ